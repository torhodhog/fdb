(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{2442:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var r=s(2898);let n=(0,r.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6264:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var r=s(2898);let n=(0,r.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2549:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var r=s(2898);let n=(0,r.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1718:function(e,t,s){Promise.resolve().then(s.bind(s,2689))},2689:function(e,t,s){"use strict";s.r(t);var r=s(7437),n=s(3089),a=s(9233),l=s(4303),i=s(345),c=s(2783),d=s(2549),o=s(2442),m=s(6264),u=s(6691),x=s.n(u),f=s(1396),h=s.n(f),g=s(4033),p=s(2265);t.default=()=>{let{items:e,removeItem:t}=(0,l.j)();localStorage.getItem("userId");let s=(0,g.useRouter)(),{mutate:u,isLoading:f}=c.S.payment.createSession.useMutation({onSuccess:e=>{let{url:t}=e;t&&s.push(t)}}),v=e.map(e=>{let{product:t}=e;return t.id}),[j,b]=(0,p.useState)(!1);(0,p.useEffect)(()=>{b(!0)},[]);let N=e.reduce((e,t)=>{let{product:s}=t;return e+(s.salePrice||s.price)},0),y=N>=1500?0:74,handleCheckout=e=>{u({productIds:v,leveringsinfo:{navn:"Brukerens navn",adresse:"Brukerens adresse",postnummer:"Brukerens postnummer",by:"Brukerens by",telefonnummer:"Brukerens telefonnummer".substring(0,20),land:"Brukerens land"},deliveryMethod:e})};return(0,r.jsx)("div",{className:"bg-white",children:(0,r.jsxs)("div",{className:"mx-auto max-w-2xl px-4 pb-24 pt-16 sm:px-6 lg:max-w-7xl lg:px-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight  sm:text-4xl",children:"Shopping Cart"}),(0,r.jsxs)("div",{className:"mt-12 lg:grid lg:grid-cols-12 lg:items-start lg:gap-x-12 xl:gap-x-16",children:[(0,r.jsxs)("div",{className:(0,i.cn)("lg:col-span-7",{"rounded-lg border-2 border-dashed border-zinc-200 p-12":j&&0===e.length}),children:[(0,r.jsx)("h2",{className:"sr-only",children:"Items in your shopping cart"}),j&&0===e.length?(0,r.jsxs)("div",{className:"flex h-full flex-col items-center justify-center space-y-1",children:[(0,r.jsx)("div",{"aria-hidden":"true",className:"relative mb-4 h-40 w-40 text-muted-foreground",children:(0,r.jsx)(x(),{src:"/empty-cart.jpeg",fill:!0,loading:"eager",alt:"empty shopping cart"})}),(0,r.jsx)("h3",{className:"font-semibold text-2xl",children:"Din handlevogn er tom"}),(0,r.jsx)("p",{className:"text-muted-foreground text-center",children:"Whoops! Ingen produkter \xe5 vise."})]}):null,(0,r.jsx)("ul",{className:(0,i.cn)({"divide-y divide-gray-200 border-b border-t border-gray-200":j&&e.length>0}),children:j&&e.map(e=>{var s;let{product:l}=e,c=null===(s=a.Z.find(e=>e.value===l.category))||void 0===s?void 0:s.label,{image:m}=l.images[0];return(0,r.jsxs)("li",{className:"flex py-6 sm:py-10",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"relative h-24 w-24",children:"string"!=typeof m&&m.url?(0,r.jsx)(x(),{fill:!0,src:m.url,alt:"product image",className:"h-full w-full rounded-md object-cover object-center sm:h-48 sm:w-48"}):null})}),(0,r.jsxs)("div",{className:"ml-4 flex flex-1 flex-col justify-between sm:ml-6",children:[(0,r.jsxs)("div",{className:"relative pr-9 sm:grid sm:grid-cols-2 sm:gap-x-6 sm:pr-0",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex justify-between",children:(0,r.jsx)("h3",{className:"text-sm",children:(0,r.jsx)(h(),{href:"/product/".concat(l.id),className:"font-medium text-gray-700 hover:text-gray-800",children:l.name})})}),(0,r.jsx)("div",{className:"mt-1 flex text-sm",children:(0,r.jsxs)("p",{className:"text-muted-foreground",children:["Category: ",c]})}),(0,r.jsx)("p",{className:"mt-1 text-sm font-medium text-gray-900",children:(0,i.T)(l.salePrice||l.price)})]}),(0,r.jsx)("div",{className:"mt-4 sm:mt-0 sm:pr-9 w-20",children:(0,r.jsx)("div",{className:"absolute right-0 top-0",children:(0,r.jsx)(n.z,{"aria-label":"remove product",onClick:()=>t(l.id),variant:"ghost",children:(0,r.jsx)(d.Z,{className:"h-5 w-5","aria-hidden":"true"})})})})]}),(0,r.jsxs)("p",{className:"mt-4 flex space-x-2 text-sm text-gray-700",children:[(0,r.jsx)(o.Z,{className:"h-5 w-5 flex-shrink-0 text-green-500"}),(0,r.jsx)("span",{children:"Kvalifisert for \xf8yeblikkelig levering"})]})]})]},l.id)})})]}),(0,r.jsxs)("section",{className:"mt-16 rounded-lg bg-gray-50 px-4 py-6 sm:p-6 lg:col-span-5 lg:mt-0 lg:p-8",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Sammendrag"}),(0,r.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Kj\xf8pstotal"}),(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:j?(0,i.T)(N):(0,r.jsx)(m.Z,{className:"h-4 w-4 animate-spin text-muted-foreground"})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between border-t border-gray-200 pt-4",children:[(0,r.jsx)("div",{className:"flex items-center text-sm text-muted-foreground",children:(0,r.jsx)("span",{children:"Leveringskostnader"})}),(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:j?(0,i.T)(y):(0,r.jsx)(m.Z,{className:"h-4 w-4 animate-spin text-muted-foreground"})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between border-t border-gray-200 pt-4",children:[(0,r.jsx)("div",{className:"text-base font-medium text-gray-900",children:"Totalpris"}),(0,r.jsx)("div",{className:"text-base font-medium text-gray-900",children:j?(0,i.T)(N+y):(0,r.jsx)(m.Z,{className:"h-4 w-4 animate-spin text-muted-foreground"})})]})]}),(0,r.jsxs)("div",{className:"mt-6 flex space-x-4",children:[(0,r.jsxs)(n.z,{disabled:0===e.length||f,onClick:e=>handleCheckout("delivery"),className:"w-full bg-yellow-500",size:"lg",children:[f?(0,r.jsx)(m.Z,{className:"w-4 h-4 animate-spin mr-1.5"}):null,"Kj\xf8p"]}),(0,r.jsxs)(n.z,{disabled:0===e.length||f,onClick:()=>{handleCheckout("pickup")},className:"w-full bg-green-900",size:"lg",children:[f?(0,r.jsx)(m.Z,{className:"w-4 h-4 animate-spin mr-1.5"}):null,"Kj\xf8p og hent"]})]}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsxs)("p",{className:"font-extralight",children:["* Ved \xe5 trykke ",(0,r.jsx)("span",{className:"font-semibold",children:"“Kj\xf8p og hent”"}),", legger vi av produktet for deg. Du henter det i butikken n\xe5r det passer deg."]}),(0,r.jsx)("br",{}),(0,r.jsxs)("p",{className:"font-extralight",children:["**Les om butikken og hvor du finner oss ",(0,r.jsx)("span",{children:(0,r.jsx)("a",{href:"/FdbStore",className:"text-blue-500 hover:underline",children:"her"})})]})]})]})]})]})})}},3089:function(e,t,s){"use strict";s.d(t,{d:function(){return c},z:function(){return d}});var r=s(7437),n=s(2265),a=s(7256),l=s(9213),i=s(345);let c=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:s,variant:n,size:l,asChild:d=!1,...o}=e,m=d?a.g7:"button";return(0,r.jsx)(m,{className:(0,i.cn)(c({variant:n,size:l,className:s})),ref:t,...o})});d.displayName="Button"},9233:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=[{label:"Meny",value:"products",featured:[{name:"Hjem",href:"/"},{name:"Alle produkter",href:"/products",Nasjon:"Alle"},{name:"Salg",href:"/Sale",Nasjon:"Alle"},{name:"Kontakt Oss",href:"/contact",Nasjon:"Alle"},{name:"Butikken v\xe5r",href:"/FdbStore"}]}]},4303:function(e,t,s){"use strict";s.d(t,{j:function(){return a}});var r=s(4660),n=s(4810);let a=(0,r.Ue)()((0,n.tJ)(e=>({items:[],addItem:t=>e(e=>({items:[...e.items,{product:t}]})),removeItem:t=>e(e=>({items:e.items.filter(e=>e.product.id!==t)})),clearCart:()=>e({items:[]})}),{name:"cart-storage",storage:(0,n.FL)(()=>localStorage)}))},345:function(e,t,s){"use strict";s.d(t,{T:function(){return formatPrice},cn:function(){return cn}});var r=s(7042),n=s(4769);function cn(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,r.W)(t))}function formatPrice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{currency:s="NOK",notation:r="standard"}=t,n="string"==typeof e?parseFloat(e):e;return new Intl.NumberFormat("nb-NO",{style:"currency",currency:s,notation:r,maximumFractionDigits:2}).format(n)}},2783:function(e,t,s){"use strict";s.d(t,{S:function(){return n}});var r=s(4244);let n=(0,r.ec)()},4033:function(e,t,s){e.exports=s(94)}},function(e){e.O(0,[413,747,366,142,971,472,744],function(){return e(e.s=1718)}),_N_E=e.O()}]);