(()=>{var e={};e.id=955,e.ids=[955],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},90409:e=>{"use strict";e.exports=require("payload")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},65842:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(67096),i=r(16132),a=r(37284),l=r.n(a),n=r(32564),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let d=["",{children:["thank-you",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,67129)),"/Users/torgeirhogheim/Downloads/torgeirtried-main-main 2/src/app/thank-you/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,21316)),"/Users/torgeirhogheim/Downloads/torgeirtried-main-main 2/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/torgeirhogheim/Downloads/torgeirtried-main-main 2/src/app/thank-you/page.tsx"],u="/thank-you/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/thank-you/page",pathname:"/thank-you",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},47707:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,46686,23)),Promise.resolve().then(r.t.bind(r,30614,23)),Promise.resolve().then(r.bind(r,37271))},37271:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=r(30784),i=r(37422),a=r(57114),l=r(9885);let __WEBPACK_DEFAULT_EXPORT__=({orderEmail:e,orderId:t,isPaid:r})=>{let n=(0,a.useRouter)(),{data:o}=i.S.payment.pollOrderStatus.useQuery({orderId:t},{enabled:!1===r,refetchInterval:e=>!e?.isPaid&&1e3});return(0,l.useEffect)(()=>{o?.isPaid&&n.refresh()},[o?.isPaid,n]),(0,s.jsxs)("div",{className:"mt-16 grid grid-cols-2 gap-x-4 text-sm text-gray-600",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Shipping To"}),s.jsx("p",{children:e})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Order Status"}),s.jsx("p",{children:r?"Payment successful":"Pending payment"})]})]})}},67129:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var s=r(4656),i=r(95153);let a=(0,i.createProxy)(String.raw`/Users/torgeirhogheim/Downloads/torgeirtried-main-main 2/src/components/Paymentstatus.tsx`),{__esModule:l,$$typeof:n}=a,o=a.default;var d=r(19292),c=r(80623),u=r(28002),x=r(92974),m=r(24596),p=r(58639),h=r.n(p),g=r(24353),f=r.n(g),j=r(41412);let ThankYouPage=async({searchParams:e})=>{let t=e.orderId,r=(0,m.cookies)(),{user:i}=await (0,u.z)(r),a=await (0,c.T)(),{docs:l}=await a.find({collection:"orders",depth:2,where:{id:{equals:t}}}),[n]=l;if(!n)return(0,j.notFound)();let p="string"==typeof n.user?n.user:n.user.id;if(p!==i?.id)return(0,j.redirect)(`/sign-in?origin=thank-you?orderId=${n.id}`);let g=n.products,y=g.reduce((e,t)=>{let r=t.salePrice||t.price;return e+r},0);return(0,s.jsxs)("main",{className:"relative lg:min-h-full",children:[s.jsx("div",{className:"hidden lg:block h-80 overflow-hidden lg:absolute lg:h-full lg:w-1/2 lg:pr-4 xl:pr-12",children:s.jsx(h(),{fill:!0,src:"/checkout-thank-you.jpg",className:"h-full w-full object-cover object-center",alt:"thank you for your order"})}),s.jsx("div",{children:s.jsx("div",{className:"mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:grid lg:max-w-7xl lg:grid-cols-2 lg:gap-x-8 lg:px-8 lg:py-32 xl:gap-x-24",children:(0,s.jsxs)("div",{className:"lg:col-start-2",children:[s.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Kj\xf8p fullf\xf8rt"}),s.jsx("h1",{className:"mt-2 text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl",children:"Takk for din bestilling"}),n._isPaid?(0,s.jsxs)("p",{className:"mt-2 text-base text-muted-foreground",children:["Kvittering vil bli sendt til"," ","string"!=typeof n.user?s.jsx("span",{className:"font-medium text-gray-900",children:n.user.email}):null,". Ta kontakt med oss hvis du har noen sp\xf8rsm\xe5l rundt ditt kj\xf8p."]}):s.jsx("p",{className:"mt-2 text-base text-muted-foreground",children:"Vi setter pris p\xe5 bestillingen din og behandler den n\xe5. Bare vent litt, s\xe5 sender vi deg en bekreftelse veldig snart!"}),(0,s.jsxs)("div",{className:"mt-16 text-sm font-medium",children:[s.jsx("div",{className:"text-muted-foreground",children:"Order nr."}),s.jsx("div",{className:"mt-2 text-gray-900",children:n.id}),s.jsx("ul",{className:"mt-6 divide-y divide-gray-200 border-t border-gray-200 text-sm font-medium text-muted-foreground",children:n.products.map(e=>{let t=d.Z.find(({value:t})=>t===e.category)?.label,{image:r}=e.images[0];return(0,s.jsxs)("li",{className:"flex space-x-6 py-6",children:[s.jsx("div",{className:"relative h-24 w-24",children:"string"!=typeof r&&r.url?s.jsx(h(),{fill:!0,src:r.url,alt:`${e.name} image`,className:"flex-none rounded-md bg-gray-100 object-cover object-center"}):null}),s.jsx("div",{className:"flex-auto flex flex-col justify-between",children:(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("h3",{className:"text-gray-900",children:e.name}),(0,s.jsxs)("p",{className:"my-1",children:["Kategori: ",t]})]})}),s.jsx("p",{className:"flex-none font-medium text-gray-900",children:(0,x.T)(e.salePrice||e.price)})]},e.id)})}),(0,s.jsxs)("div",{className:"space-y-6 border-t border-gray-200 pt-6 text-sm font-medium text-muted-foreground",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("p",{children:"Delsum: "}),s.jsx("p",{className:"text-gray-900",children:(0,x.T)(y)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("p",{children:"Levering"}),s.jsx("p",{className:"text-gray-900",children:(0,x.T)(74)})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between border-t border-gray-200 pt-6 text-gray-900",children:[s.jsx("p",{className:"text-base",children:"Totalt"}),s.jsx("p",{className:"text-base",children:(0,x.T)(y+74)})]})]}),s.jsx(o,{isPaid:n._isPaid||!1,orderEmail:n.user.email,orderId:n.id}),s.jsx("div",{className:"mt-16 border-t border-gray-200 py-6 text-right",children:s.jsx(f(),{href:"/products",className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"Fortsett \xe5 handle â†’"})})]})]})})})]})},y=ThankYouPage},19292:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=[{label:"Meny",value:"products",featured:[{name:"Hjem",href:"/"},{name:"Alle produkter",href:"/products",Nasjon:"Alle"},{name:"Salg",href:"/Sale",Nasjon:"Alle"},{name:"Kontakt Oss",href:"/contact",Nasjon:"Alle"},{name:"Butikken v\xe5r",href:"/FdbStore"}]}]}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[524,450,412,809,623],()=>__webpack_exec__(65842));module.exports=r})();