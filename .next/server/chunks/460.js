"use strict";exports.id=460,exports.ids=[460],exports.modules={325:(e,t,r)=>{var o=r(9806),a=r(32757),n=a(o("String.prototype.indexOf"));e.exports=function(e,t){var r=o(e,!!t);return"function"==typeof r&&n(e,".prototype.")>-1?a(r):r}},32757:(e,t,r)=>{var o=r(90454),a=r(9806),n=r(46903),i=r(72241),s=a("%Function.prototype.apply%"),l=a("%Function.prototype.call%"),u=a("%Reflect.apply%",!0)||o.call(l,s),d=r(72242),c=a("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new i("a function is required");var t=u(o,l,arguments);return n(t,1+c(0,e.length-(arguments.length-1)),!0)};var applyBind=function(){return u(o,s,arguments)};d?d(e.exports,"apply",{value:applyBind}):e.exports.apply=applyBind},35372:(e,t,r)=>{var o=r(72242),a=r(24761),n=r(72241),i=r(46386);e.exports=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new n("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new n("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,d=arguments.length>6&&arguments[6],c=!!i&&i(e,t);if(o)o(e,t,{configurable:null===u&&c?c.configurable:!u,enumerable:null===s&&c?c.enumerable:!s,value:r,writable:null===l&&c?c.writable:!l});else if(!d&&(s||l||u))throw new a("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");else e[t]=r}},72242:(e,t,r)=>{var o=r(9806)("%Object.defineProperty%",!0)||!1;if(o)try{o({},"a",{value:1})}catch(e){o=!1}e.exports=o},93398:e=>{e.exports=EvalError},6146:e=>{e.exports=Error},6553:e=>{e.exports=RangeError},36106:e=>{e.exports=ReferenceError},24761:e=>{e.exports=SyntaxError},72241:e=>{e.exports=TypeError},97493:e=>{e.exports=URIError},92570:e=>{var t=Object.prototype.toString,r=Math.max,concatty=function(e,t){for(var r=[],o=0;o<e.length;o+=1)r[o]=e[o];for(var a=0;a<t.length;a+=1)r[a+e.length]=t[a];return r},slicy=function(e,t){for(var r=[],o=t||0,a=0;o<e.length;o+=1,a+=1)r[a]=e[o];return r},joiny=function(e,t){for(var r="",o=0;o<e.length;o+=1)r+=e[o],o+1<e.length&&(r+=t);return r};e.exports=function(e){var o,a=this;if("function"!=typeof a||"[object Function]"!==t.apply(a))throw TypeError("Function.prototype.bind called on incompatible "+a);for(var n=slicy(arguments,1),i=r(0,a.length-n.length),s=[],l=0;l<i;l++)s[l]="$"+l;if(o=Function("binder","return function ("+joiny(s,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof o){var t=a.apply(this,concatty(n,arguments));return Object(t)===t?t:this}return a.apply(e,concatty(n,arguments))}),a.prototype){var Empty=function(){};Empty.prototype=a.prototype,o.prototype=new Empty,Empty.prototype=null}return o}},90454:(e,t,r)=>{var o=r(92570);e.exports=Function.prototype.bind||o},9806:(e,t,r)=>{var o=r(6146),a=r(93398),n=r(6553),i=r(36106),s=r(24761),l=r(72241),u=r(97493),d=Function,getEvalledConstructor=function(e){try{return d('"use strict"; return ('+e+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(e){c=null}var throwTypeError=function(){throw new l},p=c?function(){try{return arguments.callee,throwTypeError}catch(e){try{return c(arguments,"callee").get}catch(e){return throwTypeError}}}():throwTypeError,h=r(12071)(),m=r(72344)(),f=Object.getPrototypeOf||(m?function(e){return e.__proto__}:null),y={},v="undefined"!=typeof Uint8Array&&f?f(Uint8Array):void 0,g={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":h&&f?f([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":y,"%AsyncGenerator%":y,"%AsyncGeneratorFunction%":y,"%AsyncIteratorPrototype%":y,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":a,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":y,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h&&f?f(f([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&h&&f?f(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":n,"%ReferenceError%":i,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&h&&f?f(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h&&f?f(""[Symbol.iterator]()):void 0,"%Symbol%":h?Symbol:void 0,"%SyntaxError%":s,"%ThrowTypeError%":p,"%TypedArray%":v,"%TypeError%":l,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet};if(f)try{null.error}catch(e){var _=f(f(e));g["%Error.prototype%"]=_}var doEval=function doEval(e){var t;if("%AsyncFunction%"===e)t=getEvalledConstructor("async function () {}");else if("%GeneratorFunction%"===e)t=getEvalledConstructor("function* () {}");else if("%AsyncGeneratorFunction%"===e)t=getEvalledConstructor("async function* () {}");else if("%AsyncGenerator%"===e){var r=doEval("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=doEval("%AsyncGenerator%");o&&f&&(t=f(o.prototype))}return g[e]=t,t},P={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=r(90454),S=r(41229),b=T.call(Function.call,Array.prototype.concat),E=T.call(Function.apply,Array.prototype.splice),R=T.call(Function.call,String.prototype.replace),x=T.call(Function.call,String.prototype.slice),O=T.call(Function.call,RegExp.prototype.exec),w=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C=/\\(\\)?/g,stringToPath=function(e){var t=x(e,0,1),r=x(e,-1);if("%"===t&&"%"!==r)throw new s("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new s("invalid intrinsic syntax, expected opening `%`");var o=[];return R(e,w,function(e,t,r,a){o[o.length]=r?R(a,C,"$1"):t||e}),o},getBaseIntrinsic=function(e,t){var r,o=e;if(S(P,o)&&(o="%"+(r=P[o])[0]+"%"),S(g,o)){var a=g[o];if(a===y&&(a=doEval(o)),void 0===a&&!t)throw new l("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:o,value:a}}throw new s("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new l('"allowMissing" argument must be a boolean');if(null===O(/^%?[^%]*%?$/,e))throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=stringToPath(e),o=r.length>0?r[0]:"",a=getBaseIntrinsic("%"+o+"%",t),n=a.name,i=a.value,u=!1,d=a.alias;d&&(o=d[0],E(r,b([0,1],d)));for(var p=1,h=!0;p<r.length;p+=1){var m=r[p],f=x(m,0,1),y=x(m,-1);if(('"'===f||"'"===f||"`"===f||'"'===y||"'"===y||"`"===y)&&f!==y)throw new s("property names with quotes must have matching quotes");if("constructor"!==m&&h||(u=!0),o+="."+m,S(g,n="%"+o+"%"))i=g[n];else if(null!=i){if(!(m in i)){if(!t)throw new l("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&p+1>=r.length){var v=c(i,m);i=(h=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:i[m]}else h=S(i,m),i=i[m];h&&!u&&(g[n]=i)}}return i}},46386:(e,t,r)=>{var o=r(9806)("%Object.getOwnPropertyDescriptor%",!0);if(o)try{o([],"length")}catch(e){o=null}e.exports=o},35152:(e,t,r)=>{var o=r(72242),hasPropertyDescriptors=function(){return!!o};hasPropertyDescriptors.hasArrayLengthDefineBug=function(){if(!o)return null;try{return 1!==o([],"length",{value:1}).length}catch(e){return!0}},e.exports=hasPropertyDescriptors},72344:e=>{var t={__proto__:null,foo:{}},r=Object;e.exports=function(){return({__proto__:t}).foo===t.foo&&!(t instanceof r)}},12071:(e,t,r)=>{var o="undefined"!=typeof Symbol&&Symbol,a=r(76375);e.exports=function(){return"function"==typeof o&&"function"==typeof Symbol&&"symbol"==typeof o("foo")&&"symbol"==typeof Symbol("bar")&&a()}},76375:e=>{e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},41229:(e,t,r)=>{var o=Function.prototype.call,a=Object.prototype.hasOwnProperty,n=r(90454);e.exports=n.call(o,a)},16132:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},10884:(e,t,r)=>{e.exports=r(30517)},14126:(e,t,r)=>{var o="function"==typeof Map&&Map.prototype,a=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,n=o&&a&&"function"==typeof a.get?a.get:null,i=o&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&l&&"function"==typeof l.get?l.get:null,d=s&&Set.prototype.forEach,c="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,f=Object.prototype.toString,y=Function.prototype.toString,v=String.prototype.match,g=String.prototype.slice,_=String.prototype.replace,P=String.prototype.toUpperCase,T=String.prototype.toLowerCase,S=RegExp.prototype.test,b=Array.prototype.concat,E=Array.prototype.join,R=Array.prototype.slice,x=Math.floor,O="function"==typeof BigInt?BigInt.prototype.valueOf:null,w=Object.getOwnPropertySymbols,C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,k="function"==typeof Symbol&&"object"==typeof Symbol.iterator,A="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===k?"object":"symbol")?Symbol.toStringTag:null,I=Object.prototype.propertyIsEnumerable,Z=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function addNumericSeparator(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||S.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var o=e<0?-x(-e):x(e);if(o!==e){var a=String(o),n=g.call(t,a.length+1);return _.call(a,r,"$&_")+"."+_.call(_.call(n,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _.call(t,r,"$&_")}var N=r(34394),j=N.custom,D=isSymbol(j)?j:null;function wrapQuotes(e,t,r){var o="double"===(r.quoteStyle||t)?'"':"'";return o+e+o}function quote(e){return _.call(String(e),/"/g,"&quot;")}function isArray(e){return"[object Array]"===toStr(e)&&(!A||!("object"==typeof e&&A in e))}function isDate(e){return"[object Date]"===toStr(e)&&(!A||!("object"==typeof e&&A in e))}function isRegExp(e){return"[object RegExp]"===toStr(e)&&(!A||!("object"==typeof e&&A in e))}function isError(e){return"[object Error]"===toStr(e)&&(!A||!("object"==typeof e&&A in e))}function isString(e){return"[object String]"===toStr(e)&&(!A||!("object"==typeof e&&A in e))}function isNumber(e){return"[object Number]"===toStr(e)&&(!A||!("object"==typeof e&&A in e))}function isBoolean(e){return"[object Boolean]"===toStr(e)&&(!A||!("object"==typeof e&&A in e))}function isSymbol(e){if(k)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!C)return!1;try{return C.call(e),!0}catch(e){}return!1}function isBigInt(e){if(!e||"object"!=typeof e||!O)return!1;try{return O.call(e),!0}catch(e){}return!1}e.exports=function inspect_(e,t,r,o){var a=t||{};if(has(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw TypeError('option "quoteStyle" must be "single" or "double"');if(has(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=!has(a,"customInspect")||a.customInspect;if("boolean"!=typeof s&&"symbol"!==s)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has(a,"indent")&&null!==a.indent&&"	"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(has(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=a.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return inspectString(e,a);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var c=String(e);return l?addNumericSeparator(e,c):c}if("bigint"==typeof e){var p=String(e)+"n";return l?addNumericSeparator(e,p):p}var h=void 0===a.depth?5:a.depth;if(void 0===r&&(r=0),r>=h&&h>0&&"object"==typeof e)return isArray(e)?"[Array]":"[Object]";var f=getIndent(a,r);if(void 0===o)o=[];else if(indexOf(o,e)>=0)return"[Circular]";function inspect(e,t,n){if(t&&(o=R.call(o)).push(t),n){var i={depth:a.depth};return has(a,"quoteStyle")&&(i.quoteStyle=a.quoteStyle),inspect_(e,i,r+1,o)}return inspect_(e,a,r+1,o)}if("function"==typeof e&&!isRegExp(e)){var y=nameOf(e),v=arrObjKeys(e,inspect);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(v.length>0?" { "+E.call(v,", ")+" }":"")}if(isSymbol(e)){var P=k?_.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):C.call(e);return"object"!=typeof e||k?P:markBoxed(P)}if(isElement(e)){for(var S="<"+T.call(String(e.nodeName)),x=e.attributes||[],w=0;w<x.length;w++)S+=" "+x[w].name+"="+wrapQuotes(quote(x[w].value),"double",a);return S+=">",e.childNodes&&e.childNodes.length&&(S+="..."),S+="</"+T.call(String(e.nodeName))+">"}if(isArray(e)){if(0===e.length)return"[]";var j=arrObjKeys(e,inspect);return f&&!singleLineValues(j)?"["+indentedJoin(j,f)+"]":"[ "+E.call(j,", ")+" ]"}if(isError(e)){var G=arrObjKeys(e,inspect);return"cause"in Error.prototype||!("cause"in e)||I.call(e,"cause")?0===G.length?"["+String(e)+"]":"{ ["+String(e)+"] "+E.call(G,", ")+" }":"{ ["+String(e)+"] "+E.call(b.call("[cause]: "+inspect(e.cause),G),", ")+" }"}if("object"==typeof e&&s){if(D&&"function"==typeof e[D]&&N)return N(e,{depth:h-r});if("symbol"!==s&&"function"==typeof e.inspect)return e.inspect()}if(isMap(e)){var M=[];return i&&i.call(e,function(t,r){M.push(inspect(r,e,!0)+" => "+inspect(t,e))}),collectionOf("Map",n.call(e),M,f)}if(isSet(e)){var F=[];return d&&d.call(e,function(t){F.push(inspect(t,e))}),collectionOf("Set",u.call(e),F,f)}if(isWeakMap(e))return weakCollectionOf("WeakMap");if(isWeakSet(e))return weakCollectionOf("WeakSet");if(isWeakRef(e))return weakCollectionOf("WeakRef");if(isNumber(e))return markBoxed(inspect(Number(e)));if(isBigInt(e))return markBoxed(inspect(O.call(e)));if(isBoolean(e))return markBoxed(m.call(e));if(isString(e))return markBoxed(inspect(String(e)));if("undefined"!=typeof globalThis&&e===globalThis||"undefined"!=typeof global&&e===global)return"{ [object globalThis] }";if(!isDate(e)&&!isRegExp(e)){var U=arrObjKeys(e,inspect),L=Z?Z(e)===Object.prototype:e instanceof Object||e.constructor===Object,$=e instanceof Object?"":"null prototype",B=!L&&A&&Object(e)===e&&A in e?g.call(toStr(e),8,-1):$?"Object":"",H=(L||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(B||$?"["+E.call(b.call([],B||[],$||[]),": ")+"] ":"");return 0===U.length?H+"{}":f?H+"{"+indentedJoin(U,f)+"}":H+"{ "+E.call(U,", ")+" }"}return String(e)};var G=Object.prototype.hasOwnProperty||function(e){return e in this};function has(e,t){return G.call(e,t)}function toStr(e){return f.call(e)}function nameOf(e){if(e.name)return e.name;var t=v.call(y.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function indexOf(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,o=e.length;r<o;r++)if(e[r]===t)return r;return -1}function isMap(e){if(!n||!e||"object"!=typeof e)return!1;try{n.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}function isWeakMap(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e,c);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}function isWeakRef(e){if(!h||!e||"object"!=typeof e)return!1;try{return h.call(e),!0}catch(e){}return!1}function isSet(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{n.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}function isWeakSet(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{c.call(e,c)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}function isElement(e){return!!e&&"object"==typeof e&&(!!("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)}function inspectString(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength;return inspectString(g.call(e,0,t.maxStringLength),t)+"... "+r+" more character"+(r>1?"s":"")}return wrapQuotes(_.call(_.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lowbyte),"single",t)}function lowbyte(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+P.call(t.toString(16))}function markBoxed(e){return"Object("+e+")"}function weakCollectionOf(e){return e+" { ? }"}function collectionOf(e,t,r,o){return e+" ("+t+") {"+(o?indentedJoin(r,o):E.call(r,", "))+"}"}function singleLineValues(e){for(var t=0;t<e.length;t++)if(indexOf(e[t],"\n")>=0)return!1;return!0}function getIndent(e,t){var r;if("	"===e.indent)r="	";else{if("number"!=typeof e.indent||!(e.indent>0))return null;r=E.call(Array(e.indent+1)," ")}return{base:r,prev:E.call(Array(t+1),r)}}function indentedJoin(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+E.call(e,","+r)+"\n"+t.prev}function arrObjKeys(e,t){var r,o=isArray(e),a=[];if(o){a.length=e.length;for(var n=0;n<e.length;n++)a[n]=has(e,n)?t(e[n],e):""}var i="function"==typeof w?w(e):[];if(k){r={};for(var s=0;s<i.length;s++)r["$"+i[s]]=i[s]}for(var l in e)has(e,l)&&(!o||String(Number(l))!==l||!(l<e.length))&&(k&&r["$"+l]instanceof Symbol||(S.call(/[^\w$]/,l)?a.push(t(l,e)+": "+t(e[l],e)):a.push(l+": "+t(e[l],e))));if("function"==typeof w)for(var u=0;u<i.length;u++)I.call(e,i[u])&&a.push("["+t(i[u])+"]: "+t(e[i[u]],e));return a}},34394:(e,t,r)=>{e.exports=r(73837).inspect},44450:e=>{var t=String.prototype.replace,r=/%20/g,o={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports={default:o.RFC3986,formatters:{RFC1738:function(e){return t.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:o.RFC1738,RFC3986:o.RFC3986}},83666:(e,t,r)=>{var o=r(39695),a=r(67368),n=r(44450);e.exports={formats:n,parse:a,stringify:o}},67368:(e,t,r)=>{var o=r(73322),a=Object.prototype.hasOwnProperty,n=Array.isArray,i={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:o.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},parseArrayValue=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},parseValues=function(e,t){var r={__proto__:null},s=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;s=s.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var l=t.parameterLimit===1/0?void 0:t.parameterLimit,u=s.split(t.delimiter,l),d=-1,c=t.charset;if(t.charsetSentinel)for(p=0;p<u.length;++p)0===u[p].indexOf("utf8=")&&("utf8=%E2%9C%93"===u[p]?c="utf-8":"utf8=%26%2310003%3B"===u[p]&&(c="iso-8859-1"),d=p,p=u.length);for(p=0;p<u.length;++p)if(p!==d){var p,h,m,f=u[p],y=f.indexOf("]="),v=-1===y?f.indexOf("="):y+1;-1===v?(h=t.decoder(f,i.decoder,c,"key"),m=t.strictNullHandling?null:""):(h=t.decoder(f.slice(0,v),i.decoder,c,"key"),m=o.maybeMap(parseArrayValue(f.slice(v+1),t),function(e){return t.decoder(e,i.decoder,c,"value")})),m&&t.interpretNumericEntities&&"iso-8859-1"===c&&(m=m.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),f.indexOf("[]=")>-1&&(m=n(m)?[m]:m);var g=a.call(r,h);g&&"combine"===t.duplicates?r[h]=o.combine(r[h],m):g&&"last"!==t.duplicates||(r[h]=m)}return r},parseObject=function(e,t,r,o){for(var a=o?t:parseArrayValue(t,r),n=e.length-1;n>=0;--n){var i,s=e[n];if("[]"===s&&r.parseArrays)i=r.allowEmptyArrays&&(""===a||r.strictNullHandling&&null===a)?[]:[].concat(a);else{i=r.plainObjects?Object.create(null):{};var l="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,u=r.decodeDotInKeys?l.replace(/%2E/g,"."):l,d=parseInt(u,10);r.parseArrays||""!==u?!isNaN(d)&&s!==u&&String(d)===u&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(i=[])[d]=a:"__proto__"!==u&&(i[u]=a):i={0:a}}a=i}return a},parseKeys=function(e,t,r,o){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,s=r.depth>0&&/(\[[^[\]]*])/.exec(n),l=s?n.slice(0,s.index):n,u=[];if(l){if(!r.plainObjects&&a.call(Object.prototype,l)&&!r.allowPrototypes)return;u.push(l)}for(var d=0;r.depth>0&&null!==(s=i.exec(n))&&d<r.depth;){if(d+=1,!r.plainObjects&&a.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(s[1])}if(s){if(!0===r.strictDepth)throw RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");u.push("["+n.slice(s.index)+"]")}return parseObject(u,t,r,o)}},normalizeParseOptions=function(e){if(!e)return i;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?i.charset:e.charset,r=void 0===e.duplicates?i.duplicates:e.duplicates;if("combine"!==r&&"first"!==r&&"last"!==r)throw TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||i.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:i.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:i.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:i.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:i.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:i.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:i.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:i.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:i.decoder,delimiter:"string"==typeof e.delimiter||o.isRegExp(e.delimiter)?e.delimiter:i.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:i.depth,duplicates:r,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:i.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:i.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:i.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:i.strictNullHandling}};e.exports=function(e,t){var r=normalizeParseOptions(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var a="string"==typeof e?parseValues(e,r):e,n=r.plainObjects?Object.create(null):{},i=Object.keys(a),s=0;s<i.length;++s){var l=i[s],u=parseKeys(l,a[l],r,"string"==typeof e);n=o.merge(n,u,r)}return!0===r.allowSparse?n:o.compact(n)}},39695:(e,t,r)=>{var o=r(21021),a=r(73322),n=r(44450),i=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,u=Array.prototype.push,pushToArray=function(e,t){u.apply(e,l(t)?t:[t])},d=Date.prototype.toISOString,c=n.default,p={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:a.encode,encodeValuesOnly:!1,format:c,formatter:n.formatters[c],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},h={},stringify=function stringify(e,t,r,n,i,s,u,d,c,m,f,y,v,g,_,P,T,S){for(var b,E,R=e,x=S,O=0,w=!1;void 0!==(x=x.get(h))&&!w;){var C=x.get(e);if(O+=1,void 0!==C){if(C===O)throw RangeError("Cyclic object value");w=!0}void 0===x.get(h)&&(O=0)}if("function"==typeof m?R=m(t,R):R instanceof Date?R=v(R):"comma"===r&&l(R)&&(R=a.maybeMap(R,function(e){return e instanceof Date?v(e):e})),null===R){if(s)return c&&!P?c(t,p.encoder,T,"key",g):t;R=""}if("string"==typeof(b=R)||"number"==typeof b||"boolean"==typeof b||"symbol"==typeof b||"bigint"==typeof b||a.isBuffer(R))return c?[_(P?t:c(t,p.encoder,T,"key",g))+"="+_(c(R,p.encoder,T,"value",g))]:[_(t)+"="+_(String(R))];var k=[];if(void 0===R)return k;if("comma"===r&&l(R))P&&c&&(R=a.maybeMap(R,c)),E=[{value:R.length>0?R.join(",")||null:void 0}];else if(l(m))E=m;else{var A=Object.keys(R);E=f?A.sort(f):A}var I=d?t.replace(/\./g,"%2E"):t,Z=n&&l(R)&&1===R.length?I+"[]":I;if(i&&l(R)&&0===R.length)return Z+"[]";for(var N=0;N<E.length;++N){var j=E[N],D="object"==typeof j&&void 0!==j.value?j.value:R[j];if(!u||null!==D){var G=y&&d?j.replace(/\./g,"%2E"):j,M=l(R)?"function"==typeof r?r(Z,G):Z:Z+(y?"."+G:"["+G+"]");S.set(e,O);var F=o();F.set(h,S),pushToArray(k,stringify(D,M,r,n,i,s,u,d,"comma"===r&&P&&l(R)?null:c,m,f,y,v,g,_,P,T,F))}}return k},normalizeStringifyOptions=function(e){if(!e)return p;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");var t,r=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=n.default;if(void 0!==e.format){if(!i.call(n.formatters,e.format))throw TypeError("Unknown format option provided.");o=e.format}var a=n.formatters[o],u=p.filter;if(("function"==typeof e.filter||l(e.filter))&&(u=e.filter),t=e.arrayFormat in s?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":p.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");var d=void 0===e.allowDots?!0===e.encodeDotInKeys||p.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:d,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:p.allowEmptyArrays,arrayFormat:t,charset:r,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:p.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:u,format:o,formatter:a,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}};e.exports=function(e,t){var r,a=e,n=normalizeStringifyOptions(t);"function"==typeof n.filter?a=(0,n.filter)("",a):l(n.filter)&&(r=n.filter);var i=[];if("object"!=typeof a||null===a)return"";var u=s[n.arrayFormat],d="comma"===u&&n.commaRoundTrip;r||(r=Object.keys(a)),n.sort&&r.sort(n.sort);for(var c=o(),p=0;p<r.length;++p){var h=r[p];n.skipNulls&&null===a[h]||pushToArray(i,stringify(a[h],h,u,d,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var m=i.join(n.delimiter),f=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),m.length>0?f+m:""}},73322:(e,t,r)=>{var o=r(44450),a=Object.prototype.hasOwnProperty,n=Array.isArray,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),compactQueue=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(n(r)){for(var o=[],a=0;a<r.length;++a)void 0!==r[a]&&o.push(r[a]);t.obj[t.prop]=o}}},arrayToObject=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},o=0;o<e.length;++o)void 0!==e[o]&&(r[o]=e[o]);return r};e.exports={arrayToObject:arrayToObject,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],o=0;o<t.length;++o)for(var a=t[o],n=a.obj[a.prop],i=Object.keys(n),s=0;s<i.length;++s){var l=i[s],u=n[l];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:n,prop:l}),r.push(u))}return compactQueue(t),e},decode:function(e,t,r){var o=e.replace(/\+/g," ");if("iso-8859-1"===r)return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch(e){return o}},encode:function(e,t,r,a,n){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===r)return escape(s).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var l="",u=0;u<s.length;u+=1024){for(var d=s.length>=1024?s.slice(u,u+1024):s,c=[],p=0;p<d.length;++p){var h=d.charCodeAt(p);if(45===h||46===h||95===h||126===h||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||n===o.RFC1738&&(40===h||41===h)){c[c.length]=d.charAt(p);continue}if(h<128){c[c.length]=i[h];continue}if(h<2048){c[c.length]=i[192|h>>6]+i[128|63&h];continue}if(h<55296||h>=57344){c[c.length]=i[224|h>>12]+i[128|h>>6&63]+i[128|63&h];continue}p+=1,h=65536+((1023&h)<<10|1023&d.charCodeAt(p)),c[c.length]=i[240|h>>18]+i[128|h>>12&63]+i[128|h>>6&63]+i[128|63&h]}l+=c.join("")}return l},isBuffer:function(e){return!!e&&"object"==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(n(e)){for(var r=[],o=0;o<e.length;o+=1)r.push(t(e[o]));return r}return t(e)},merge:function merge(e,t,r){if(!t)return e;if("object"!=typeof t){if(n(e))e.push(t);else{if(!e||"object"!=typeof e)return[e,t];(r&&(r.plainObjects||r.allowPrototypes)||!a.call(Object.prototype,t))&&(e[t]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(t);var o=e;return(n(e)&&!n(t)&&(o=arrayToObject(e,r)),n(e)&&n(t))?(t.forEach(function(t,o){if(a.call(e,o)){var n=e[o];n&&"object"==typeof n&&t&&"object"==typeof t?e[o]=merge(n,t,r):e.push(t)}else e[o]=t}),e):Object.keys(t).reduce(function(e,o){var n=t[o];return a.call(e,o)?e[o]=merge(e[o],n,r):e[o]=n,e},o)}}},46903:(e,t,r)=>{var o=r(9806),a=r(35372),n=r(35152)(),i=r(46386),s=r(72241),l=o("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||l(t)!==t)throw new s("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],o=!0,u=!0;if("length"in e&&i){var d=i(e,"length");d&&!d.configurable&&(o=!1),d&&!d.writable&&(u=!1)}return(o||u||!r)&&(n?a(e,"length",t,!0,!0):a(e,"length",t)),e}},21021:(e,t,r)=>{var o=r(9806),a=r(325),n=r(14126),i=r(72241),s=o("%WeakMap%",!0),l=o("%Map%",!0),u=a("WeakMap.prototype.get",!0),d=a("WeakMap.prototype.set",!0),c=a("WeakMap.prototype.has",!0),p=a("Map.prototype.get",!0),h=a("Map.prototype.set",!0),m=a("Map.prototype.has",!0),listGetNode=function(e,t){for(var r,o=e;null!==(r=o.next);o=r)if(r.key===t)return o.next=r.next,r.next=e.next,e.next=r,r},listGet=function(e,t){var r=listGetNode(e,t);return r&&r.value},listSet=function(e,t,r){var o=listGetNode(e,t);o?o.value=r:e.next={key:t,next:e.next,value:r}};e.exports=function(){var e,t,r,o={assert:function(e){if(!o.has(e))throw new i("Side channel does not contain "+n(e))},get:function(o){if(s&&o&&("object"==typeof o||"function"==typeof o)){if(e)return u(e,o)}else if(l){if(t)return p(t,o)}else if(r)return listGet(r,o)},has:function(o){if(s&&o&&("object"==typeof o||"function"==typeof o)){if(e)return c(e,o)}else if(l){if(t)return m(t,o)}else if(r)return!!listGetNode(r,o);return!1},set:function(o,a){s&&o&&("object"==typeof o||"function"==typeof o)?(e||(e=new s),d(e,o,a)):l?(t||(t=new l),h(t,o,a)):(r||(r={key:{},next:null}),listSet(r,o,a))}};return o}},88056:(e,t,r)=>{function isObject(e){return!!e&&!Array.isArray(e)&&"object"==typeof e}r.d(t,{T:()=>TRPCError,g:()=>getTRPCErrorFromUnknown});let UnknownCauseError=class UnknownCauseError extends Error{};function getCauseFromUnknown(e){if(e instanceof Error)return e;let t=typeof e;if("undefined"!==t&&"function"!==t&&null!==e){if("object"!==t)return Error(String(e));if(isObject(e)){let t=new UnknownCauseError;for(let r in e)t[r]=e[r];return t}}}function getTRPCErrorFromUnknown(e){if(e instanceof TRPCError||e instanceof Error&&"TRPCError"===e.name)return e;let t=new TRPCError({code:"INTERNAL_SERVER_ERROR",cause:e});return e instanceof Error&&e.stack&&(t.stack=e.stack),t}let TRPCError=class TRPCError extends Error{constructor(e){let t=getCauseFromUnknown(e.cause),r=e.message??t?.message??e.code;super(r,{cause:t}),this.code=e.code,this.name="TRPCError",this.cause||(this.cause=t)}}},1603:(e,t,r)=>{r.d(t,{w:()=>fetchRequestHandler});var o=r(94404),a=r(71388),n=r(88056),i=r(22266);function getErrorShape(e){let{path:t,error:r,config:a}=e,{code:n}=e.error,s={message:r.message,code:i.T[n],data:{code:n,httpStatus:(0,o.g)(r)}};return a.isDev&&"string"==typeof e.error.stack&&(s.data.stack=e.error.stack),"string"==typeof t&&(s.data.path=t),a.errorFormatter({...e,shape:s})}function transformTRPCResponseItem(e,t){return"error"in t?{...t,error:e.transformer.output.serialize(t.error)}:"data"in t.result?{...t,result:{...t.result,data:e.transformer.output.serialize(t.result.data)}}:t}function transformTRPCResponse(e,t){return Array.isArray(t)?t.map(t=>transformTRPCResponseItem(e,t)):transformTRPCResponseItem(e,t)}function getRawProcedureInputOrThrow(e){let{req:t}=e;try{if("GET"===t.method){if(!t.query.has("input"))return;let e=t.query.get("input");return JSON.parse(e)}if(!e.preprocessedBody&&"string"==typeof t.body)return 0===t.body.length?void 0:JSON.parse(t.body);return t.body}catch(e){throw new n.T({code:"PARSE_ERROR",cause:e})}}let deserializeInputValue=(e,t)=>void 0!==e?t.input.deserialize(e):e,s={GET:"query",POST:"mutation"},l={getInputs:e=>{let t=getRawProcedureInputOrThrow(e),r=e.router._def._config.transformer;if(!e.isBatchCall)return{0:deserializeInputValue(t,r)};if(null==t||"object"!=typeof t||Array.isArray(t))throw new n.T({code:"BAD_REQUEST",message:'"input" needs to be an object when doing a batch call'});let o={};for(let e in t){let a=t[e],n=deserializeInputValue(a,r);o[e]=n}return o}};function initResponse(e){let{ctx:t,paths:r,type:a,responseMeta:n,untransformedJSON:i,errors:s=[]}=e,l=i?(0,o.b)(i):200,u={"Content-Type":"application/json"},d=!i,c=d?[]:Array.isArray(i)?i:[i],p=n?.({ctx:t,paths:r,type:a,data:c,errors:s,eagerGeneration:d})??{};for(let[e,t]of Object.entries(p.headers??{}))u[e]=t;return p.status&&(l=p.status),{status:l,headers:u}}async function inputToProcedureCall(e){let{opts:t,ctx:r,type:o,input:i,path:s}=e;try{let e=await (0,a.e)({procedures:t.router._def.procedures,path:s,rawInput:i,ctx:r,type:o});return{result:{data:e}}}catch(a){let e=(0,n.g)(a);return t.onError?.({error:e,path:s,input:i,ctx:r,type:o,req:t.req}),{error:getErrorShape({config:t.router._def._config,error:e,type:o,path:s,input:i,ctx:r})}}}function caughtErrorToData(e,t){let{router:r,req:o,onError:a}=t.opts,i=(0,n.g)(e);a?.({error:i,path:t.path,input:t.input,ctx:t.ctx,type:t.type,req:o});let s={error:getErrorShape({config:r._def._config,error:i,type:t.type,path:t.path,input:t.input,ctx:t.ctx})},l=transformTRPCResponse(r._def._config,s),u=JSON.stringify(l);return{error:i,untransformedJSON:s,body:u}}async function resolveHTTPResponse(e){let t,r;let{router:o,req:a,unstable_onHead:i,unstable_onChunk:u}=e;if("HEAD"===a.method){let e={status:204};return i?.(e,!1),u?.([-1,""]),e}let d=e.contentTypeHandler??l,c=e.batching?.enabled??!0,p=s[a.method]??"unknown",h=!!a.query.get("batch"),m=h&&i&&u&&"stream"===a.headers["trpc-batch-mode"];try{if(r=await e.createContext(),e.error)throw e.error;if(h&&!c)throw Error("Batching is not enabled on the server");/* istanbul ignore if -- @preserve */if("subscription"===p)throw new n.T({message:"Subscriptions should use wsLink",code:"METHOD_NOT_SUPPORTED"});if("unknown"===p)throw new n.T({message:`Unexpected request method ${a.method}`,code:"METHOD_NOT_SUPPORTED"});let s=await d.getInputs({isBatchCall:h,req:a,router:o,preprocessedBody:e.preprocessedBody??!1});t=h?decodeURIComponent(e.path).split(","):[e.path];let l=t.map((t,o)=>inputToProcedureCall({opts:e,ctx:r,type:p,input:s[o],path:t}));if(!m){let a=await Promise.all(l),n=a.flatMap(e=>"error"in e?[e.error]:[]),s=initResponse({ctx:r,paths:t,type:p,responseMeta:e.responseMeta,untransformedJSON:a,errors:n});i?.(s,!1);let d=h?a:a[0],c=transformTRPCResponse(o._def._config,d),m=JSON.stringify(c);return u?.([-1,m]),{status:s.status,headers:s.headers,body:m}}let f=initResponse({ctx:r,paths:t,type:p,responseMeta:e.responseMeta});i(f,!0);let y=new Map(l.map((e,t)=>[t,e.then(e=>[t,e])]));for(let a of t){let[a,n]=await Promise.race(y.values());y.delete(a);try{let e=transformTRPCResponse(o._def._config,n),t=JSON.stringify(e);u([a,t])}catch(l){let o=t[a],n=s[a],{body:i}=caughtErrorToData(l,{opts:e,ctx:r,type:p,path:o,input:n});u([a,i])}}return}catch(l){let{error:o,untransformedJSON:a,body:n}=caughtErrorToData(l,{opts:e,ctx:r,type:p}),s=initResponse({ctx:r,paths:t,type:p,responseMeta:e.responseMeta,untransformedJSON:a,errors:[o]});return i?.(s,!1),u?.([-1,n]),{status:s.status,headers:s.headers,body:n}}}function getBatchStreamFormatter(){let e=!0;function format(t,r){let o=e?"{":",";return e=!1,`${o}"${t}":${r}
`}return format.end=()=>"}",format}function toURL(e){let t=e.startsWith("/")?`http://127.0.0.1${e}`:e;return new URL(t)}let trimSlashes=e=>e=(e=e.startsWith("/")?e.slice(1):e).endsWith("/")?e.slice(0,-1):e;async function fetchRequestHandler(e){let t,r,o,a;let n=new Headers,createContext=async()=>e.createContext?.({req:e.req,resHeaders:n}),i=toURL(e.req.url),s=trimSlashes(i.pathname),l=trimSlashes(e.endpoint),u=trimSlashes(s.slice(l.length)),d={query:i.searchParams,method:e.req.method,headers:Object.fromEntries(e.req.headers),body:e.req.headers.get("content-type")?.startsWith("application/json")?await e.req.text():""},c=new Promise(e=>t=e),p=200,h=!1;return resolveHTTPResponse({req:d,createContext,path:u,router:e.router,batching:e.batching,responseMeta:e.responseMeta,onError(t){e?.onError?.({...t,req:e.req})},unstable_onHead:(e,i)=>{for(let[t,r]of Object.entries(e.headers??{}))/* istanbul ignore if -- @preserve */if(void 0!==r){if("string"==typeof r){n.set(t,r);continue}for(let e of r)n.append(t,e)}if(p=e.status,i){n.set("Transfer-Encoding","chunked"),n.append("Vary","trpc-batch-mode");let e=new ReadableStream({start(e){r=e}}),i=new Response(e,{status:p,headers:n});t(i),o=new TextEncoder,a=getBatchStreamFormatter(),h=!0}},unstable_onChunk:([e,i])=>{if(-1===e){let e=new Response(i||null,{status:p,headers:n});t(e)}else r.enqueue(o.encode(a(e,i)))}}).then(()=>{h&&(r.enqueue(o.encode(a.end())),r.close())}).catch(()=>{h&&r.close()}),c}},22266:(e,t,r)=>{function invert(e){let t=Object.create(null);for(let r in e){let o=e[r];t[o]=r}return t}r.d(t,{T:()=>o,i:()=>invert});let o={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};invert(o)},71388:(e,t,r)=>{r.d(t,{a:()=>i,b:()=>createCallerFactory,c:()=>createRouterFactory,d:()=>defaultFormatter,e:()=>callProcedure,g:()=>getDataTransformer,i:()=>d});var o=r(88056),a=r(94404),n=r(22266);function getDataTransformer(e){return"input"in e?e:{input:e,output:e}}let i={_default:!0,input:{serialize:e=>e,deserialize:e=>e},output:{serialize:e=>e,deserialize:e=>e}},defaultFormatter=({shape:e})=>e;function omitPrototype(e){return Object.assign(Object.create(null),e)}let s=["query","mutation","subscription"];function isRouter(e){return"router"in e._def}let l={_ctx:null,_errorShape:null,_meta:null,queries:{},mutations:{},subscriptions:{},errorFormatter:defaultFormatter,transformer:i},u=["then"];function createRouterFactory(e){return function(t){let r=new Set(Object.keys(t).filter(e=>u.includes(e)));if(r.size>0)throw Error("Reserved words used in `router({})` call: "+Array.from(r).join(", "));let o=omitPrototype({});function recursiveGetPaths(e,t=""){for(let[r,a]of Object.entries(e??{})){let e=`${t}${r}`;if(isRouter(a)){recursiveGetPaths(a._def.procedures,`${e}.`);continue}if(o[e])throw Error(`Duplicate key: ${e}`);o[e]=a}}recursiveGetPaths(t);let i={_config:e,router:!0,procedures:o,...l,record:t,queries:Object.entries(o).filter(e=>e[1]._def.query).reduce((e,[t,r])=>({...e,[t]:r}),{}),mutations:Object.entries(o).filter(e=>e[1]._def.mutation).reduce((e,[t,r])=>({...e,[t]:r}),{}),subscriptions:Object.entries(o).filter(e=>e[1]._def.subscription).reduce((e,[t,r])=>({...e,[t]:r}),{})},s={...t,_def:i,createCaller:e=>createCallerFactory()(s)(e),getErrorShape(t){let{path:r,error:o}=t,{code:i}=t.error,s={message:o.message,code:n.T[i],data:{code:i,httpStatus:(0,a.g)(o)}};return e.isDev&&"string"==typeof t.error.stack&&(s.data.stack=t.error.stack),"string"==typeof r&&(s.data.path=r),this._def._config.errorFormatter({...t,shape:s})}};return s}}function callProcedure(e){let{type:t,path:r}=e;if(!(r in e.procedures)||!e.procedures[r]?._def[t])throw new o.T({code:"NOT_FOUND",message:`No "${t}"-procedure on path "${r}"`});let a=e.procedures[r];return a(e)}function createCallerFactory(){return function(e){let t=e._def;return function(e){let r=(0,a.a)(({path:r,args:o})=>{if(1===r.length&&s.includes(r[0]))return callProcedure({procedures:t.procedures,path:o[0],rawInput:o[1],ctx:e,type:r[0]});let a=r.join("."),n=t.procedures[a],i="query";return n._def.mutation?i="mutation":n._def.subscription&&(i="subscription"),n({path:a,rawInput:o[0],ctx:e,type:i})});return r}}}let d=!0},94404:(e,t,r)=>{r.d(t,{a:()=>createRecursiveProxy,b:()=>getHTTPStatusCode,c:()=>createFlatProxy,g:()=>getHTTPStatusCodeFromError});var o=r(22266);let a=(0,o.i)(o.T),n={PARSE_ERROR:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,FORBIDDEN:403,METHOD_NOT_SUPPORTED:405,TIMEOUT:408,CONFLICT:409,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,UNPROCESSABLE_CONTENT:422,TOO_MANY_REQUESTS:429,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501};function getHTTPStatusCode(e){let t=Array.isArray(e)?e:[e],r=new Set(t.map(e=>{if("error"in e){let t=e.error.data;if("number"==typeof t.httpStatus)return t.httpStatus;let r=a[e.error.code];return n[r]??500}return 200}));if(1!==r.size)return 207;let o=r.values().next().value;return o}function getHTTPStatusCodeFromError(e){return n[e.code]??500}let noop=()=>{};function createInnerProxy(e,t){let r=new Proxy(noop,{get(r,o){if("string"==typeof o&&"then"!==o)return createInnerProxy(e,[...t,o])},apply(r,o,a){let n="apply"===t[t.length-1];return e({args:n?a.length>=2?a[1]:[]:a,path:n?t.slice(0,-1):t})}});return r}let createRecursiveProxy=e=>createInnerProxy(e,[]),createFlatProxy=e=>new Proxy(noop,{get(t,r){if("string"==typeof r&&"then"!==r)return e(r)}})},14273:(e,t,r)=>{r.d(t,{bR:()=>a.T,rN:()=>d});var o=r(71388),a=r(88056),n=r(94404);r(22266);let i="middlewareMarker";function getParseFn$1(e){if("function"==typeof e)return e;if("function"==typeof e.parseAsync)return e.parseAsync.bind(e);if("function"==typeof e.parse)return e.parse.bind(e);if("function"==typeof e.validateSync)return e.validateSync.bind(e);if("function"==typeof e.create)return e.create.bind(e);throw Error("Could not find a validator fn")}let Procedure=class Procedure{_def(){return{middlewares:this.middlewares,resolver:this.resolver,inputParser:this.inputParser,outputParser:this.outputParser,meta:this.meta}}async parseInput(e){try{return await this.parseInputFn(e)}catch(e){throw new TRPCError({code:"BAD_REQUEST",cause:e})}}async parseOutput(e){try{return await this.parseOutputFn(e)}catch(e){throw new TRPCError({code:"INTERNAL_SERVER_ERROR",cause:e,message:"Output validation failed"})}}async call(e){let t=this.middlewares.concat([async({ctx:t})=>{let r=await this.parseInput(e.rawInput),o=await this.resolver({...e,ctx:t,input:r}),a=await this.parseOutput(o);return{marker:i,ok:!0,data:a,ctx:t}}]),callRecursive=async(r={index:0,ctx:e.ctx})=>{try{let o=await t[r.index]({ctx:r.ctx,type:e.type,path:e.path,rawInput:e.rawInput,meta:this.meta,next:async e=>await callRecursive({index:r.index+1,ctx:e?e.ctx:r.ctx})});return o}catch(e){return{ctx:r.ctx,ok:!1,error:getTRPCErrorFromUnknown(e),marker:i}}},r=await callRecursive();if(!r)throw new TRPCError({code:"INTERNAL_SERVER_ERROR",message:"No result from middlewares - did you forget to `return next()`?"});if(!r.ok)throw r.error;return r.data}inheritMiddlewares(e){let t=this.constructor,r=new t({middlewares:[...e,...this.middlewares],resolver:this.resolver,inputParser:this.inputParser,outputParser:this.outputParser,meta:this.meta});return r}constructor(e){this.middlewares=e.middlewares,this.resolver=e.resolver,this.inputParser=e.inputParser,this.parseInputFn=getParseFn$1(this.inputParser),this.outputParser=e.outputParser,this.parseOutputFn=getParseFn$1(this.outputParser),this.meta=e.meta}};function createProcedure(e){let t="input"in e?e.input:e=>{if(null!=e)throw new TRPCError({code:"BAD_REQUEST",message:"No input expected"})},r="output"in e&&e.output?e.output:e=>e;return new Procedure({inputParser:t,resolver:e.resolve,middlewares:[],outputParser:r,meta:e.meta})}function getParseFn(e){if("function"==typeof e)return e;if("function"==typeof e.parseAsync)return e.parseAsync.bind(e);if("function"==typeof e.parse)return e.parse.bind(e);if("function"==typeof e.validateSync)return e.validateSync.bind(e);if("function"==typeof e.create)return e.create.bind(e);if("function"==typeof e.assert)return t=>(e.assert(t),t);throw Error("Could not find a validator fn")}function mergeWithoutOverrides(e,...t){let r=Object.assign(Object.create(null),e);for(let e of t)for(let t in e){if(t in r&&r[t]!==e[t])throw Error(`Duplicate key ${t}`);r[t]=e[t]}return r}function createMiddlewareFactory(){function createMiddlewareInner(e){return{_middlewares:e,unstable_pipe(t){let r="_middlewares"in t?t._middlewares:[t];return createMiddlewareInner([...e,...r])}}}return function(e){return createMiddlewareInner([e])}}function isPlainObject(e){return e&&"object"==typeof e&&!Array.isArray(e)}function createInputMiddleware(e){let inputMiddleware=async({next:t,rawInput:r,input:o})=>{let n;try{n=await e(r)}catch(e){throw new a.T({code:"BAD_REQUEST",cause:e})}let i=isPlainObject(o)&&isPlainObject(n)?{...o,...n}:n;return t({input:i})};return inputMiddleware._type="input",inputMiddleware}function createOutputMiddleware(e){let outputMiddleware=async({next:t})=>{let r=await t();if(!r.ok)return r;try{let t=await e(r.data);return{...r,data:t}}catch(e){throw new a.T({message:"Output validation failed",code:"INTERNAL_SERVER_ERROR",cause:e})}};return outputMiddleware._type="output",outputMiddleware}let s="middlewareMarker";function createNewBuilder(e,t){let{middlewares:r=[],inputs:o,meta:a,...n}=t;return createBuilder({...mergeWithoutOverrides(e,n),inputs:[...e.inputs,...o??[]],middlewares:[...e.middlewares,...r],meta:e.meta&&a?{...e.meta,...a}:a??e.meta})}function createBuilder(e={}){let t={inputs:[],middlewares:[],...e};return{_def:t,input(e){let r=getParseFn(e);return createNewBuilder(t,{inputs:[e],middlewares:[createInputMiddleware(r)]})},output(e){let r=getParseFn(e);return createNewBuilder(t,{output:e,middlewares:[createOutputMiddleware(r)]})},meta:e=>createNewBuilder(t,{meta:e}),unstable_concat:e=>createNewBuilder(t,e._def),use(e){let r="_middlewares"in e?e._middlewares:[e];return createNewBuilder(t,{middlewares:r})},query:e=>createResolver({...t,query:!0},e),mutation:e=>createResolver({...t,mutation:!0},e),subscription:e=>createResolver({...t,subscription:!0},e)}}function createResolver(e,t){let r=createNewBuilder(e,{resolver:t,middlewares:[async function(e){let r=await t(e);return{marker:s,ok:!0,data:r,ctx:e.ctx}}]});return createProcedureCaller(r._def)}let l=`
This is a client-only function.
If you want to call this function on the server, see https://trpc.io/docs/server/server-side-calls
`.trim();function createProcedureCaller(e){let procedure=async function(t){if(!t||!("rawInput"in t))throw Error(l);let callRecursive=async(r={index:0,ctx:t.ctx})=>{try{let o=e.middlewares[r.index],a=await o({ctx:r.ctx,type:t.type,path:t.path,rawInput:r.rawInput??t.rawInput,meta:e.meta,input:r.input,next:e=>callRecursive({index:r.index+1,ctx:e&&"ctx"in e?{...r.ctx,...e.ctx}:r.ctx,input:e&&"input"in e?e.input:r.input,rawInput:e&&"rawInput"in e?e.rawInput:r.rawInput})});return a}catch(e){return{ok:!1,error:(0,a.g)(e),marker:s}}},r=await callRecursive();if(!r)throw new a.T({code:"INTERNAL_SERVER_ERROR",message:"No result from middlewares - did you forget to `return next()`?"});if(!r.ok)throw r.error;return r.data};return procedure._def=e,procedure.meta=e.meta,procedure}function migrateProcedure(e,t){var r,o;let a=e._def(),n=(r=a.inputParser)?getParseFn(r):e=>e,i=(o=a.outputParser)?getParseFn(o):e=>e,s=createInputMiddleware(n),l=createBuilder({inputs:[a.inputParser],middlewares:[...a.middlewares,s,createOutputMiddleware(i)],meta:a.meta,output:a.outputParser,mutation:"mutation"===t,query:"query"===t,subscription:"subscription"===t}),u=l[t](e=>a.resolver(e));return u}function migrateRouter(e){let t=e._def.errorFormatter,r=e._def.transformer,o={},a={},n={};for(let[t,r]of Object.entries(e._def.queries))o[t]=migrateProcedure(r,"query");for(let[t,r]of Object.entries(e._def.mutations))a[t]=migrateProcedure(r,"mutation");for(let[t,r]of Object.entries(e._def.subscriptions))n[t]=migrateProcedure(r,"subscription");let i=mergeWithoutOverrides(o,a,n),s=createRouterFactory({transformer:r,errorFormatter:t,isDev:!1})(i);return s}function getDataTransformer(e){return"input"in e?e:{input:e,output:e}}let u={query:"queries",mutation:"mutations",subscription:"subscriptions"};function safeObject(...e){return Object.assign(Object.create(null),...e)}let Router=class Router{static prefixProcedures(e,t){let r=safeObject();for(let[o,a]of Object.entries(e))r[t+o]=a;return r}query(e,t){let r=new Router({queries:safeObject({[e]:createProcedure(t)})});return this.merge(r)}mutation(e,t){let r=new Router({mutations:safeObject({[e]:createProcedure(t)})});return this.merge(r)}subscription(e,t){let r=new Router({subscriptions:safeObject({[e]:createProcedure(t)})});return this.merge(r)}merge(e,t){let r,o="";if("string"==typeof e&&t instanceof Router)o=e,r=t;else if(e instanceof Router)r=e;else throw Error("Invalid args");let a=Object.keys(r._def.queries).filter(e=>!!this._def.queries[o+e]),n=Object.keys(r._def.mutations).filter(e=>!!this._def.mutations[o+e]),i=Object.keys(r._def.subscriptions).filter(e=>!!this._def.subscriptions[o+e]),s=[...a,...n,...i];if(s.length)throw Error(`Duplicate endpoint(s): ${s.join(", ")}`);let mergeProcedures=e=>{let t=safeObject();for(let[r,o]of Object.entries(e)){let e=o.inheritMiddlewares(this._def.middlewares);t[r]=e}return Router.prefixProcedures(t,o)};return new Router({...this._def,queries:safeObject(this._def.queries,mergeProcedures(r._def.queries)),mutations:safeObject(this._def.mutations,mergeProcedures(r._def.mutations)),subscriptions:safeObject(this._def.subscriptions,mergeProcedures(r._def.subscriptions))})}async call(e){let{type:t,path:r}=e,o=u[t],a=this._def[o],n=a[r];if(!n)throw new TRPCError({code:"NOT_FOUND",message:`No "${t}"-procedure on path "${r}"`});return n.call(e)}createCaller(e){return{query:(t,...r)=>this.call({type:"query",ctx:e,path:t,rawInput:r[0]}),mutation:(t,...r)=>this.call({type:"mutation",ctx:e,path:t,rawInput:r[0]}),subscription:(t,...r)=>this.call({type:"subscription",ctx:e,path:t,rawInput:r[0]})}}middleware(e){return new Router({...this._def,middlewares:[...this._def.middlewares,e]})}formatError(e){if(this._def.errorFormatter!==defaultFormatter)throw Error("You seem to have double `formatError()`-calls in your router tree");return new Router({...this._def,errorFormatter:e})}getErrorShape(e){let{path:t,error:r}=e,{code:o}=e.error,a={message:r.message,code:TRPC_ERROR_CODES_BY_KEY[o],data:{code:o,httpStatus:getHTTPStatusCodeFromError(r)}};return globalThis.process?.env?.NODE_ENV!=="production"&&"string"==typeof e.error.stack&&(a.data.stack=e.error.stack),"string"==typeof t&&(a.data.path=t),this._def.errorFormatter({...e,shape:a})}transformer(e){let t=getDataTransformer(e);if(this._def.transformer!==defaultTransformer)throw Error("You seem to have double `transformer()`-calls in your router tree");return new Router({...this._def,transformer:t})}flat(){return this}interop(){return migrateRouter(this)}constructor(e){this._def={queries:e?.queries??safeObject(),mutations:e?.mutations??safeObject(),subscriptions:e?.subscriptions??safeObject(),middlewares:e?.middlewares??[],errorFormatter:e?.errorFormatter??defaultFormatter,transformer:e?.transformer??defaultTransformer}}};function mergeRouters(...e){let t=mergeWithoutOverrides({},...e.map(e=>e._def.record)),r=e.reduce((e,t)=>{if(t._def._config.errorFormatter&&t._def._config.errorFormatter!==o.d){if(e!==o.d&&e!==t._def._config.errorFormatter)throw Error("You seem to have several error formatters");return t._def._config.errorFormatter}return e},o.d),a=e.reduce((e,t)=>{if(t._def._config.transformer&&t._def._config.transformer!==o.a){if(e!==o.a&&e!==t._def._config.transformer)throw Error("You seem to have several transformers");return t._def._config.transformer}return e},o.a),n=(0,o.c)({errorFormatter:r,transformer:a,isDev:e.some(e=>e._def._config.isDev),allowOutsideOfServer:e.some(e=>e._def._config.allowOutsideOfServer),isServer:e.some(e=>e._def._config.isServer),$types:e[0]?._def._config.$types})(t);return n}let TRPCBuilder=class TRPCBuilder{context(){return new TRPCBuilder}meta(){return new TRPCBuilder}create(e){return createTRPCInner()(e)}};let d=new TRPCBuilder;function createTRPCInner(){return function(e){let t=e?.errorFormatter??o.d,r=(0,o.g)(e?.transformer??o.a),a={transformer:r,isDev:e?.isDev??globalThis.process?.env?.NODE_ENV!=="production",allowOutsideOfServer:e?.allowOutsideOfServer??!1,errorFormatter:t,isServer:e?.isServer??o.i,$types:(0,n.c)(e=>{throw Error(`Tried to access "$types.${e}" which is not available at runtime`)})};{let t=e?.isServer??o.i;if(!t&&e?.allowOutsideOfServer!==!0)throw Error("You're trying to use @trpc/server in a non-server environment. This is not supported by default.")}return{_config:a,procedure:createBuilder({meta:e?.defaultMeta}),middleware:createMiddlewareFactory(),router:(0,o.c)(a),mergeRouters,createCallerFactory:(0,o.b)()}}}},78888:(e,t,r)=>{r.d(t,{Z:()=>oC});var o={};r.r(o),r.d(o,{StripeAPIError:()=>StripeAPIError,StripeAuthenticationError:()=>StripeAuthenticationError,StripeCardError:()=>StripeCardError,StripeConnectionError:()=>StripeConnectionError,StripeError:()=>StripeError,StripeIdempotencyError:()=>StripeIdempotencyError,StripeInvalidGrantError:()=>StripeInvalidGrantError,StripeInvalidRequestError:()=>StripeInvalidRequestError,StripePermissionError:()=>StripePermissionError,StripeRateLimitError:()=>StripeRateLimitError,StripeSignatureVerificationError:()=>StripeSignatureVerificationError,StripeUnknownError:()=>StripeUnknownError,generate:()=>generate});var a={};r.r(a),r.d(a,{Account:()=>tI,AccountLinks:()=>tN,AccountSessions:()=>tD,Accounts:()=>tI,ApplePayDomains:()=>tM,ApplicationFees:()=>tU,Apps:()=>oi,Balance:()=>tq,BalanceTransactions:()=>tB,Billing:()=>os,BillingPortal:()=>ol,Charges:()=>tz,Checkout:()=>ou,Climate:()=>od,ConfirmationTokens:()=>tW,CountrySpecs:()=>tJ,Coupons:()=>tY,CreditNotes:()=>t1,CustomerSessions:()=>t2,Customers:()=>t3,Disputes:()=>t8,Entitlements:()=>oc,EphemeralKeys:()=>t5,Events:()=>re,ExchangeRates:()=>rr,FileLinks:()=>ra,Files:()=>ri,FinancialConnections:()=>op,Forwarding:()=>oh,Identity:()=>om,InvoiceItems:()=>rl,Invoices:()=>rd,Issuing:()=>of,Mandates:()=>rp,OAuth:()=>rf,PaymentIntents:()=>rv,PaymentLinks:()=>r_,PaymentMethodConfigurations:()=>rT,PaymentMethodDomains:()=>rb,PaymentMethods:()=>rR,Payouts:()=>rO,Plans:()=>rC,Prices:()=>rA,Products:()=>rZ,PromotionCodes:()=>rj,Quotes:()=>rG,Radar:()=>oy,Refunds:()=>rF,Reporting:()=>ov,Reviews:()=>rL,SetupAttempts:()=>r$,SetupIntents:()=>rH,ShippingRates:()=>rV,Sigma:()=>og,Sources:()=>rK,SubscriptionItems:()=>rQ,SubscriptionSchedules:()=>rX,Subscriptions:()=>r0,Tax:()=>o_,TaxCodes:()=>r4,TaxIds:()=>r6,TaxRates:()=>r9,Terminal:()=>oP,TestHelpers:()=>oT,Tokens:()=>r7,Topups:()=>ot,Transfers:()=>oo,Treasury:()=>oS,WebhookEndpoints:()=>on});var n=r(6113),i=r(82361);let CryptoProvider=class CryptoProvider{computeHMACSignature(e,t){throw Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(e,t){throw Error("computeHMACSignatureAsync not implemented.")}};let CryptoProviderOnlySupportsAsyncError=class CryptoProviderOnlySupportsAsyncError extends Error{};let NodeCryptoProvider=class NodeCryptoProvider extends CryptoProvider{computeHMACSignature(e,t){return n.createHmac("sha256",t).update(e,"utf8").digest("hex")}async computeHMACSignatureAsync(e,t){let r=await this.computeHMACSignature(e,t);return r}};var s=r(13685),l=r.t(s,2),u=r(95687),d=r.t(u,2);let HttpClient=class HttpClient{getClientName(){throw Error("getClientName not implemented.")}makeRequest(e,t,r,o,a,n,i,s){throw Error("makeRequest not implemented.")}static makeTimeoutError(){let e=TypeError(HttpClient.TIMEOUT_ERROR_CODE);return e.code=HttpClient.TIMEOUT_ERROR_CODE,e}};HttpClient.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"],HttpClient.TIMEOUT_ERROR_CODE="ETIMEDOUT";let HttpClientResponse=class HttpClientResponse{constructor(e,t){this._statusCode=e,this._headers=t}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw Error("getRawResponse not implemented.")}toStream(e){throw Error("toStream not implemented.")}toJSON(){throw Error("toJSON not implemented.")}};let c=s||l,p=u||d,h=new c.Agent({keepAlive:!0}),m=new p.Agent({keepAlive:!0});let NodeHttpClient=class NodeHttpClient extends HttpClient{constructor(e){super(),this._agent=e}getClientName(){return"node"}makeRequest(e,t,r,o,a,n,i,s){let l="http"===i,u=this._agent;u||(u=l?h:m);let d=new Promise((i,d)=>{let h=(l?c:p).request({host:e,port:t,path:r,method:o,agent:u,headers:a,ciphers:"DEFAULT:!aNULL:!eNULL:!LOW:!EXPORT:!SSLv2:!MD5"});h.setTimeout(s,()=>{h.destroy(HttpClient.makeTimeoutError())}),h.on("response",e=>{i(new NodeHttpClientResponse(e))}),h.on("error",e=>{d(e)}),h.once("socket",e=>{e.connecting?e.once(l?"connect":"secureConnect",()=>{h.write(n),h.end()}):(h.write(n),h.end())})});return d}};let NodeHttpClientResponse=class NodeHttpClientResponse extends HttpClientResponse{constructor(e){super(e.statusCode,e.headers||{}),this._res=e}getRawResponse(){return this._res}toStream(e){return this._res.once("end",()=>e()),this._res}toJSON(){return new Promise((e,t)=>{let r="";this._res.setEncoding("utf8"),this._res.on("data",e=>{r+=e}),this._res.once("end",()=>{try{e(JSON.parse(r))}catch(e){t(e)}})})}};let FetchHttpClient=class FetchHttpClient extends HttpClient{constructor(e){if(super(),!e){if(!globalThis.fetch)throw Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");e=globalThis.fetch}globalThis.AbortController?this._fetchFn=FetchHttpClient.makeFetchWithAbortTimeout(e):this._fetchFn=FetchHttpClient.makeFetchWithRaceTimeout(e)}static makeFetchWithRaceTimeout(e){return(t,r,o)=>{let a;let n=new Promise((e,t)=>{a=setTimeout(()=>{a=null,t(HttpClient.makeTimeoutError())},o)}),i=e(t,r);return Promise.race([i,n]).finally(()=>{a&&clearTimeout(a)})}}static makeFetchWithAbortTimeout(e){return async(t,r,o)=>{let a=new AbortController,n=setTimeout(()=>{n=null,a.abort(HttpClient.makeTimeoutError())},o);try{return await e(t,Object.assign(Object.assign({},r),{signal:a.signal}))}catch(e){if("AbortError"===e.name)throw HttpClient.makeTimeoutError();throw e}finally{n&&clearTimeout(n)}}}getClientName(){return"fetch"}async makeRequest(e,t,r,o,a,n,i,s){let l=new URL(r,`${"http"===i?"http":"https"}://${e}`);l.port=t;let u="POST"==o||"PUT"==o||"PATCH"==o,d=await this._fetchFn(l.toString(),{method:o,headers:a,body:n||(u?"":void 0)},s);return new FetchHttpClientResponse(d)}};let FetchHttpClientResponse=class FetchHttpClientResponse extends HttpClientResponse{constructor(e){super(e.status,FetchHttpClientResponse._transformHeadersToObject(e.headers)),this._res=e}getRawResponse(){return this._res}toStream(e){return e(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(e){let t={};for(let r of e){if(!Array.isArray(r)||2!=r.length)throw Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");t[r[0]]=r[1]}return t}};let SubtleCryptoProvider=class SubtleCryptoProvider extends CryptoProvider{constructor(e){super(),this.subtleCrypto=e||crypto.subtle}computeHMACSignature(e,t){throw new CryptoProviderOnlySupportsAsyncError("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(e,t){let r=new TextEncoder,o=await this.subtleCrypto.importKey("raw",r.encode(t),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),a=await this.subtleCrypto.sign("hmac",o,r.encode(e)),n=new Uint8Array(a),i=Array(n.length);for(let e=0;e<n.length;e++)i[e]=f[n[e]];return i.join("")}};let f=Array(256);for(let e=0;e<f.length;e++)f[e]=e.toString(16).padStart(2,"0");let PlatformFunctions=class PlatformFunctions{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}secureCompare(e,t){if(e.length!==t.length)return!1;let r=e.length,o=0;for(let a=0;a<r;++a)o|=e.charCodeAt(a)^t.charCodeAt(a);return 0===o}createEmitter(){throw Error("createEmitter not implemented.")}tryBufferData(e){throw Error("tryBufferData not implemented.")}createNodeHttpClient(e){throw Error("createNodeHttpClient not implemented.")}createFetchHttpClient(e){return new FetchHttpClient(e)}createDefaultHttpClient(){throw Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(e){return new SubtleCryptoProvider(e)}createDefaultCryptoProvider(){throw Error("createDefaultCryptoProvider not implemented.")}};let generate=e=>{switch(e.type){case"card_error":return new StripeCardError(e);case"invalid_request_error":return new StripeInvalidRequestError(e);case"api_error":return new StripeAPIError(e);case"authentication_error":return new StripeAuthenticationError(e);case"rate_limit_error":return new StripeRateLimitError(e);case"idempotency_error":return new StripeIdempotencyError(e);case"invalid_grant":return new StripeInvalidGrantError(e);default:return new StripeUnknownError(e)}};let StripeError=class StripeError extends Error{constructor(e={},t=null){super(e.message),this.type=t||this.constructor.name,this.raw=e,this.rawType=e.type,this.code=e.code,this.doc_url=e.doc_url,this.param=e.param,this.detail=e.detail,this.headers=e.headers,this.requestId=e.requestId,this.statusCode=e.statusCode,this.message=e.message,this.charge=e.charge,this.decline_code=e.decline_code,this.payment_intent=e.payment_intent,this.payment_method=e.payment_method,this.payment_method_type=e.payment_method_type,this.setup_intent=e.setup_intent,this.source=e.source}};StripeError.generate=generate;let StripeCardError=class StripeCardError extends StripeError{constructor(e={}){super(e,"StripeCardError")}};let StripeInvalidRequestError=class StripeInvalidRequestError extends StripeError{constructor(e={}){super(e,"StripeInvalidRequestError")}};let StripeAPIError=class StripeAPIError extends StripeError{constructor(e={}){super(e,"StripeAPIError")}};let StripeAuthenticationError=class StripeAuthenticationError extends StripeError{constructor(e={}){super(e,"StripeAuthenticationError")}};let StripePermissionError=class StripePermissionError extends StripeError{constructor(e={}){super(e,"StripePermissionError")}};let StripeRateLimitError=class StripeRateLimitError extends StripeError{constructor(e={}){super(e,"StripeRateLimitError")}};let StripeConnectionError=class StripeConnectionError extends StripeError{constructor(e={}){super(e,"StripeConnectionError")}};let StripeSignatureVerificationError=class StripeSignatureVerificationError extends StripeError{constructor(e,t,r={}){super(r,"StripeSignatureVerificationError"),this.header=e,this.payload=t}};let StripeIdempotencyError=class StripeIdempotencyError extends StripeError{constructor(e={}){super(e,"StripeIdempotencyError")}};let StripeInvalidGrantError=class StripeInvalidGrantError extends StripeError{constructor(e={}){super(e,"StripeInvalidGrantError")}};let StripeUnknownError=class StripeUnknownError extends StripeError{constructor(e={}){super(e,"StripeUnknownError")}};var y=r(83666);let v=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host"];function isOptionsHash(e){return e&&"object"==typeof e&&v.some(t=>Object.prototype.hasOwnProperty.call(e,t))}function stringifyRequestData(e){return y.stringify(e,{serializeDate:e=>Math.floor(e.getTime()/1e3).toString()}).replace(/%5B/g,"[").replace(/%5D/g,"]")}let g=(()=>{let e={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return t=>{let r=t.replace(/["\n\r\u2028\u2029]/g,t=>e[t]);return e=>r.replace(/\{([\s\S]+?)\}/g,(t,r)=>encodeURIComponent(e[r]||""))}})();function extractUrlParams(e){let t=e.match(/\{\w+\}/g);return t?t.map(e=>e.replace(/[{}]/g,"")):[]}function getDataFromArgs(e){if(!Array.isArray(e)||!e[0]||"object"!=typeof e[0])return{};if(!isOptionsHash(e[0]))return e.shift();let t=Object.keys(e[0]),r=t.filter(e=>v.includes(e));return r.length>0&&r.length!==t.length&&emitWarning(`Options found in arguments (${r.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}function getOptionsFromArgs(e){let t={auth:null,host:null,headers:{},settings:{}};if(e.length>0){let r=e[e.length-1];if("string"==typeof r)t.auth=e.pop();else if(isOptionsHash(r)){let r=Object.assign({},e.pop()),o=Object.keys(r).filter(e=>!v.includes(e));o.length&&emitWarning(`Invalid options found (${o.join(", ")}); ignoring.`),r.apiKey&&(t.auth=r.apiKey),r.idempotencyKey&&(t.headers["Idempotency-Key"]=r.idempotencyKey),r.stripeAccount&&(t.headers["Stripe-Account"]=r.stripeAccount),r.apiVersion&&(t.headers["Stripe-Version"]=r.apiVersion),Number.isInteger(r.maxNetworkRetries)&&(t.settings.maxNetworkRetries=r.maxNetworkRetries),Number.isInteger(r.timeout)&&(t.settings.timeout=r.timeout),r.host&&(t.host=r.host)}}return t}function protoExtend(e){let t=this,r=Object.prototype.hasOwnProperty.call(e,"constructor")?e.constructor:function(...e){t.apply(this,e)};return Object.assign(r,t),r.prototype=Object.create(t.prototype),Object.assign(r.prototype,e),r}function removeNullish(e){if("object"!=typeof e)throw Error("Argument must be an object");return Object.keys(e).reduce((t,r)=>(null!=e[r]&&(t[r]=e[r]),t),{})}function normalizeHeaders(e){return e&&"object"==typeof e?Object.keys(e).reduce((t,r)=>(t[normalizeHeader(r)]=e[r],t),{}):e}function normalizeHeader(e){return e.split("-").map(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join("-")}function callbackifyPromiseWithTimeout(e,t){return t?e.then(e=>{setTimeout(()=>{t(null,e)},0)},e=>{setTimeout(()=>{t(e,null)},0)}):e}function pascalToCamelCase(e){return"OAuth"===e?"oauth":e[0].toLowerCase()+e.substring(1)}function emitWarning(e){return"function"!=typeof process.emitWarning?console.warn(`Stripe: ${e}`):process.emitWarning(e,"Stripe")}function isObject(e){let t=typeof e;return("function"===t||"object"===t)&&!!e}function flattenAndStringify(e){let t={},step=(e,r)=>{Object.keys(e).forEach(o=>{let a=e[o],n=r?`${r}[${o}]`:o;if(isObject(a)){if(!(a instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(a,"data"))return step(a,n);t[n]=a}else t[n]=String(a)})};return step(e,null),t}function validateInteger(e,t,r){if(!Number.isInteger(t)){if(void 0!==r)return r;throw Error(`${e} must be an integer`)}return t}function determineProcessUserAgentProperties(){return"undefined"==typeof process?{}:{lang_version:process.version,platform:process.platform}}function concat(e){let t=e.reduce((e,t)=>e+t.length,0),r=new Uint8Array(t),o=0;return e.forEach(e=>{r.set(e,o),o+=e.length}),r}var _=r(32081);let StreamProcessingError=class StreamProcessingError extends StripeError{};let NodePlatformFunctions=class NodePlatformFunctions extends PlatformFunctions{constructor(){super(),this._exec=_.exec,this._UNAME_CACHE=null}uuid4(){return n.randomUUID?n.randomUUID():super.uuid4()}getUname(){return this._UNAME_CACHE||(this._UNAME_CACHE=new Promise((e,t)=>{try{this._exec("uname -a",(t,r)=>{if(t)return e(null);e(r)})}catch(t){e(null)}})),this._UNAME_CACHE}secureCompare(e,t){if(!e||!t)throw Error("secureCompare must receive two arguments");if(e.length!==t.length)return!1;if(n.timingSafeEqual){let r=new TextEncoder,o=r.encode(e),a=r.encode(t);return n.timingSafeEqual(o,a)}return super.secureCompare(e,t)}createEmitter(){return new i.EventEmitter}tryBufferData(e){if(!(e.file.data instanceof i.EventEmitter))return Promise.resolve(e);let t=[];return new Promise((r,o)=>{e.file.data.on("data",e=>{t.push(e)}).once("end",()=>{let o=Object.assign({},e);o.file.data=concat(t),r(o)}).on("error",e=>{o(new StreamProcessingError({message:"An error occurred while attempting to process the file for upload.",detail:e}))})})}createNodeHttpClient(e){return new NodeHttpClient(e)}createDefaultHttpClient(){return new NodeHttpClient}createNodeCryptoProvider(){return new NodeCryptoProvider}createDefaultCryptoProvider(){return this.createNodeCryptoProvider()}};function ResourceNamespace(e,t){for(let r in t){let o=r[0].toLowerCase()+r.substring(1),a=new t[r](e);this[o]=a}}function resourceNamespace(e,t){return function(e){return new ResourceNamespace(e,t)}}let StripeIterator=class StripeIterator{constructor(e,t,r,o){this.index=0,this.pagePromise=e,this.promiseCache={currentPromise:null},this.requestArgs=t,this.spec=r,this.stripeResource=o}async iterate(e){if(!(e&&e.data&&"number"==typeof e.data.length))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");let t=isReverseIteration(this.requestArgs);if(this.index<e.data.length){let r=t?e.data.length-1-this.index:this.index,o=e.data[r];return this.index+=1,{value:o,done:!1}}if(e.has_more){this.index=0,this.pagePromise=this.getNextPage(e);let t=await this.pagePromise;return this.iterate(t)}return{done:!0,value:void 0}}getNextPage(e){throw Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;let e=(async()=>{let e=await this._next();return this.promiseCache.currentPromise=null,e})();return this.promiseCache.currentPromise=e,e}};let ListIterator=class ListIterator extends StripeIterator{getNextPage(e){let t=isReverseIteration(this.requestArgs),r=getLastId(e,t);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[t?"ending_before":"starting_after"]:r})}};let SearchIterator=class SearchIterator extends StripeIterator{getNextPage(e){if(!e.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:e.next_page})}};let makeAutoPaginationMethods=(e,t,r,o)=>"search"===r.methodType?makeAutoPaginationMethodsFromIterator(new SearchIterator(o,t,r,e)):"list"===r.methodType?makeAutoPaginationMethodsFromIterator(new ListIterator(o,t,r,e)):null,makeAutoPaginationMethodsFromIterator=e=>{let t=makeAutoPagingEach((...t)=>e.next(...t)),r=makeAutoPagingToArray(t),o={autoPagingEach:t,autoPagingToArray:r,next:()=>e.next(),return:()=>({}),[getAsyncIteratorSymbol()]:()=>o};return o};function getAsyncIteratorSymbol(){return"undefined"!=typeof Symbol&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}function getDoneCallback(e){if(e.length<2)return null;let t=e[1];if("function"!=typeof t)throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof t}`);return t}function getItemCallback(e){if(0===e.length)return;let t=e[0];if("function"!=typeof t)throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof t}`);if(2===t.length)return t;if(t.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${t}`);return function(e,r){let o=t(e);r(o)}}function getLastId(e,t){let r=t?0:e.data.length-1,o=e.data[r],a=o&&o.id;if(!a)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return a}function makeAutoPagingEach(e){return function(){let t=[].slice.call(arguments),r=getItemCallback(t),o=getDoneCallback(t);if(t.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${t}`);let a=wrapAsyncIteratorWithCallback(e,r);return callbackifyPromiseWithTimeout(a,o)}}function makeAutoPagingToArray(e){return function(t,r){let o=t&&t.limit;if(!o)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(o>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");let a=new Promise((t,r)=>{let a=[];e(e=>{if(a.push(e),a.length>=o)return!1}).then(()=>{t(a)}).catch(r)});return callbackifyPromiseWithTimeout(a,r)}}function wrapAsyncIteratorWithCallback(e,t){return new Promise((r,o)=>{function handleIteration(o){if(o.done){r();return}let a=o.value;return new Promise(e=>{t(a,e)}).then(t=>!1===t?handleIteration({done:!0,value:void 0}):e().then(handleIteration))}e().then(handleIteration).catch(o)})}function isReverseIteration(e){let t=[].slice.call(e),r=getDataFromArgs(t);return!!r.ending_before}function stripeMethod(e){if(void 0!==e.path&&void 0!==e.fullPath)throw Error(`Method spec specified both a 'path' (${e.path}) and a 'fullPath' (${e.fullPath}).`);return function(...t){let r="function"==typeof t[t.length-1]&&t.pop();e.urlParams=extractUrlParams(e.fullPath||this.createResourcePathWithSymbols(e.path||""));let o=callbackifyPromiseWithTimeout(this._makeRequest(t,e,{}),r);return Object.assign(o,makeAutoPaginationMethods(this,t,e,o)),o}}function StripeResource(e,t){if(this._stripe=e,t)throw Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=g(this.basePath||e.getApiField("basePath")),this.resourcePath=this.path,this.path=g(this.path),this.initialize(...arguments)}StripeResource.extend=protoExtend,StripeResource.method=stripeMethod,StripeResource.MAX_BUFFERED_REQUEST_METRICS=100,StripeResource.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(e,t){let r=[this.basePath(t),this.path(t)];if("function"==typeof e){let o=e(t);o&&r.push(o)}else r.push(e);return this._joinUrlParts(r)},createResourcePathWithSymbols(e){return e?`/${this._joinUrlParts([this.resourcePath,e])}`:`/${this.resourcePath}`},_joinUrlParts:e=>e.join("/").replace(/\/{2,}/g,"/"),_getRequestOpts(e,t,r){let o=(t.method||"GET").toUpperCase(),a=t.usage||[],n=t.urlParams||[],i=t.encode||(e=>e),s=!!t.fullPath,l=g(s?t.fullPath:t.path||""),u=s?t.fullPath:this.createResourcePathWithSymbols(t.path),d=[].slice.call(e),c=n.reduce((e,t)=>{let r=d.shift();if("string"!=typeof r)throw Error(`Stripe: Argument "${t}" must be a string, but got: ${r} (on API request to \`${o} ${u}\`)`);return e[t]=r,e},{}),p=getDataFromArgs(d),h=i(Object.assign({},p,r)),m=getOptionsFromArgs(d),f=m.host||t.host,y=!!t.streaming;if(d.filter(e=>null!=e).length)throw Error(`Stripe: Unknown arguments (${d}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${o} \`${u}\`)`);let v=s?l(c):this.createFullPath(l,c),_=Object.assign(m.headers,t.headers);t.validator&&t.validator(h,{headers:_});let P="GET"===t.method||"DELETE"===t.method,T=P?{}:h,S=P?h:{};return{requestMethod:o,requestPath:v,bodyData:T,queryData:S,auth:m.auth,headers:_,host:null!=f?f:null,streaming:y,settings:m.settings,usage:a}},_makeRequest(e,t,r){return new Promise((o,a)=>{var n;let i;try{i=this._getRequestOpts(e,t,r)}catch(e){a(e);return}function requestCallback(e,r){e?a(e):o(t.transformResponseData?t.transformResponseData(r):r)}let s=0===Object.keys(i.queryData).length,l=[i.requestPath,s?"":"?",stringifyRequestData(i.queryData)].join(""),{headers:u,settings:d}=i;this._stripe._requestSender._request(i.requestMethod,i.host,l,i.bodyData,i.auth,{headers:u,settings:d,streaming:i.streaming},i.usage,requestCallback,null===(n=this.requestDataProcessor)||void 0===n?void 0:n.bind(this))})}};let P=StripeResource.method,T=StripeResource.extend({retrieve:P({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:P({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:P({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:P({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:P({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:P({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:P({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})}),S=StripeResource.method,b=StripeResource.extend({retrieve:S({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:S({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})}),E=StripeResource.method,R=StripeResource.extend({create:E({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:E({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:E({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),increment:E({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),reverse:E({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})}),x=StripeResource.method,O=StripeResource.extend({retrieve:x({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:x({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:x({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:x({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:x({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})}),w=StripeResource.method,C=StripeResource.extend({create:w({method:"POST",fullPath:"/v1/tax/calculations"}),listLineItems:w({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})}),k=StripeResource.method,A=StripeResource.extend({create:k({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:k({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:k({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:k({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})}),I=StripeResource.method,Z=StripeResource.extend({deliverCard:I({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:I({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:I({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:I({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"})}),N=StripeResource.method,j=StripeResource.extend({create:N({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:N({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:N({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:N({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})}),D=StripeResource.method,G=StripeResource.extend({create:D({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:D({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:D({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:D({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})}),M=StripeResource.method,F=StripeResource.extend({create:M({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:M({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:M({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:M({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:M({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})}),U=StripeResource.method,L=StripeResource.extend({create:U({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})}),$=StripeResource.method,B=StripeResource.extend({create:$({method:"POST",fullPath:"/v1/terminal/connection_tokens"})}),H=StripeResource.method,z=StripeResource.extend({create:H({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:H({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:H({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})}),V=StripeResource.method,W=StripeResource.extend({fundCashBalance:V({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})}),K=StripeResource.method,J=StripeResource.extend({create:K({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:K({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:K({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})}),Q=StripeResource.method,Y=StripeResource.extend({create:Q({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:Q({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:Q({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:Q({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:Q({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})}),X=StripeResource.method,ee=StripeResource.extend({retrieve:X({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:X({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})}),et=StripeResource.method,er=StripeResource.extend({create:et({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:et({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:et({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:et({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})}),eo=StripeResource.method,ea=StripeResource.extend({create:eo({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:eo({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:eo({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:eo({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),retrieveFeatures:eo({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:eo({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})}),en=StripeResource.method,ei=StripeResource.extend({fail:en({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:en({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:en({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})}),es=StripeResource.method,el=StripeResource.extend({create:es({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:es({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:es({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:es({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})}),eu=StripeResource.method,ed=StripeResource.extend({create:eu({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:eu({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:eu({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:eu({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:eu({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})}),ec=StripeResource.method,ep=StripeResource.extend({create:ec({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})}),eh=StripeResource.method,em=StripeResource.extend({create:eh({method:"POST",fullPath:"/v1/billing/meter_events"})}),ef=StripeResource.method,ey=StripeResource.extend({create:ef({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:ef({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:ef({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:ef({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:ef({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:ef({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:ef({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})}),ev=StripeResource.method,eg=StripeResource.extend({create:ev({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:ev({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:ev({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:ev({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:ev({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})}),e_=StripeResource.method,eP=StripeResource.extend({fail:e_({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:e_({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:e_({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})}),eT=StripeResource.method,eS=StripeResource.extend({create:eT({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:eT({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:eT({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:eT({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})}),eb=StripeResource.method,eE=StripeResource.extend({fail:eb({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:eb({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:eb({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})}),eR=StripeResource.method,ex=StripeResource.extend({create:eR({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:eR({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:eR({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:eR({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})}),eO=StripeResource.method,ew=StripeResource.extend({activate:eO({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:eO({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:eO({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})}),eC=StripeResource.method,ek=StripeResource.extend({create:eC({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:eC({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:eC({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:eC({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})}),eA=StripeResource.method,eI=StripeResource.extend({retrieve:eA({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:eA({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})}),eZ=StripeResource.method,eN=StripeResource.extend({retrieve:eZ({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:eZ({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})}),ej=StripeResource.method,eD=StripeResource.extend({presentPaymentMethod:ej({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"})}),eG=StripeResource.method,eM=StripeResource.extend({create:eG({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:eG({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:eG({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:eG({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:eG({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:eG({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),processPaymentIntent:eG({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:eG({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:eG({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:eG({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})}),eF=StripeResource.method,eU=StripeResource.extend({create:eF({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})}),eL=StripeResource.method,eq=StripeResource.extend({retrieve:eL({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:eL({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})}),e$=StripeResource.method,eB=StripeResource.extend({create:e$({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})}),eH=StripeResource.method,ez=StripeResource.extend({retrieve:eH({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:eH({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})}),eV=StripeResource.method,eW=StripeResource.extend({expire:eV({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})}),eK=StripeResource.method,eJ=StripeResource.extend({create:eK({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:eK({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:eK({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:eK({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})}),eQ=StripeResource.method,eY=StripeResource.extend({create:eQ({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:eQ({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:eQ({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})}),eX=StripeResource.method,e1=StripeResource.extend({retrieve:eX({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:eX({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})}),e0=StripeResource.method,e2=StripeResource.extend({create:e0({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:e0({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:e0({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})}),e4=StripeResource.method,e3=StripeResource.extend({retrieve:e4({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:e4({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})}),e6=StripeResource.method,e8=StripeResource.extend({create:e6({method:"POST",fullPath:"/v1/apps/secrets"}),list:e6({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:e6({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:e6({method:"GET",fullPath:"/v1/apps/secrets/find"})}),e9=StripeResource.method,e5=StripeResource.extend({create:e9({method:"POST",fullPath:"/v1/billing_portal/sessions"})}),e7=StripeResource.method,te=StripeResource.extend({create:e7({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:e7({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),list:e7({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:e7({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:e7({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})}),tt=StripeResource.method,tr=StripeResource.extend({create:tt({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:tt({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})}),to=StripeResource.method,ta=StripeResource.extend({retrieve:to({method:"GET",fullPath:"/v1/tax/settings"}),update:to({method:"POST",fullPath:"/v1/tax/settings"})}),tn=StripeResource.method,ti=StripeResource.extend({retrieve:tn({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:tn({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})}),ts=StripeResource.method,tl=StripeResource.extend({create:ts({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:ts({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:ts({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:ts({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:ts({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})}),tu=StripeResource.method,td=StripeResource.extend({retrieve:tu({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:tu({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:tu({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})}),tc=StripeResource.method,tp=StripeResource.extend({retrieve:tc({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:tc({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})}),th=StripeResource.method,tm=StripeResource.extend({createForceCapture:th({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:th({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:th({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})}),tf=StripeResource.method,ty=StripeResource.extend({retrieve:tf({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:tf({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})}),tv=StripeResource.method,tg=StripeResource.extend({retrieve:tv({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:tv({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:tv({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})}),t_=StripeResource.method,tP=StripeResource.extend({retrieve:t_({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:t_({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:t_({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:t_({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})}),tT=StripeResource.method,tS=StripeResource.extend({retrieve:tT({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:tT({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})}),tb=StripeResource.method,tE=StripeResource.extend({create:tb({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:tb({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:tb({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:tb({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})}),tR=StripeResource.method,tx=StripeResource.extend({create:tR({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:tR({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:tR({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:tR({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:tR({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})}),tO=StripeResource.method,tw=StripeResource.extend({retrieve:tO({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:tO({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})}),tC=StripeResource.method,tk=StripeResource.extend({create:tC({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:tC({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:tC({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:tC({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:tC({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:tC({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})}),tA=StripeResource.method,tI=StripeResource.extend({create:tA({method:"POST",fullPath:"/v1/accounts"}),retrieve(e,...t){return"string"==typeof e?tA({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[e,...t]):(null==e&&[].shift.apply([e,...t]),tA({method:"GET",fullPath:"/v1/account"}).apply(this,[e,...t]))},update:tA({method:"POST",fullPath:"/v1/accounts/{account}"}),list:tA({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:tA({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:tA({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:tA({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:tA({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:tA({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:tA({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:tA({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:tA({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:tA({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:tA({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:tA({method:"GET",fullPath:"/v1/account"}),retrieveCapability:tA({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:tA({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:tA({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:tA({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:tA({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:tA({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})}),tZ=StripeResource.method,tN=StripeResource.extend({create:tZ({method:"POST",fullPath:"/v1/account_links"})}),tj=StripeResource.method,tD=StripeResource.extend({create:tj({method:"POST",fullPath:"/v1/account_sessions"})}),tG=StripeResource.method,tM=StripeResource.extend({create:tG({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:tG({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:tG({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:tG({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})}),tF=StripeResource.method,tU=StripeResource.extend({retrieve:tF({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:tF({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:tF({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:tF({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:tF({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:tF({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})}),tL=StripeResource.method,tq=StripeResource.extend({retrieve:tL({method:"GET",fullPath:"/v1/balance"})}),t$=StripeResource.method,tB=StripeResource.extend({retrieve:t$({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:t$({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})}),tH=StripeResource.method,tz=StripeResource.extend({create:tH({method:"POST",fullPath:"/v1/charges"}),retrieve:tH({method:"GET",fullPath:"/v1/charges/{charge}"}),update:tH({method:"POST",fullPath:"/v1/charges/{charge}"}),list:tH({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:tH({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:tH({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})}),tV=StripeResource.method,tW=StripeResource.extend({retrieve:tV({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})}),tK=StripeResource.method,tJ=StripeResource.extend({retrieve:tK({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:tK({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})}),tQ=StripeResource.method,tY=StripeResource.extend({create:tQ({method:"POST",fullPath:"/v1/coupons"}),retrieve:tQ({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:tQ({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:tQ({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:tQ({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})}),tX=StripeResource.method,t1=StripeResource.extend({create:tX({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:tX({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:tX({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:tX({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:tX({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:tX({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:tX({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:tX({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})}),t0=StripeResource.method,t2=StripeResource.extend({create:t0({method:"POST",fullPath:"/v1/customer_sessions"})}),t4=StripeResource.method,t3=StripeResource.extend({create:t4({method:"POST",fullPath:"/v1/customers"}),retrieve:t4({method:"GET",fullPath:"/v1/customers/{customer}"}),update:t4({method:"POST",fullPath:"/v1/customers/{customer}"}),list:t4({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:t4({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:t4({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:t4({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:t4({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:t4({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:t4({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:t4({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:t4({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:t4({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:t4({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:t4({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:t4({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:t4({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:t4({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:t4({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:t4({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:t4({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:t4({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:t4({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:t4({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:t4({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:t4({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:t4({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:t4({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})}),t6=StripeResource.method,t8=StripeResource.extend({retrieve:t6({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:t6({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:t6({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:t6({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})}),t9=StripeResource.method,t5=StripeResource.extend({create:t9({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(e,t)=>{if(!t.headers||!t.headers["Stripe-Version"])throw Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:t9({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})}),t7=StripeResource.method,re=StripeResource.extend({retrieve:t7({method:"GET",fullPath:"/v1/events/{id}"}),list:t7({method:"GET",fullPath:"/v1/events",methodType:"list"})}),rt=StripeResource.method,rr=StripeResource.extend({retrieve:rt({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:rt({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})}),ro=StripeResource.method,ra=StripeResource.extend({create:ro({method:"POST",fullPath:"/v1/file_links"}),retrieve:ro({method:"GET",fullPath:"/v1/file_links/{link}"}),update:ro({method:"POST",fullPath:"/v1/file_links/{link}"}),list:ro({method:"GET",fullPath:"/v1/file_links",methodType:"list"})}),multipartDataGenerator=(e,t,r)=>{let o=(Math.round(1e16*Math.random())+Math.round(1e16*Math.random())).toString();r["Content-Type"]=`multipart/form-data; boundary=${o}`;let a=new TextEncoder,n=new Uint8Array(0),i=a.encode("\r\n");function push(e){let t=n,r=e instanceof Uint8Array?e:new Uint8Array(a.encode(e));(n=new Uint8Array(t.length+r.length+2)).set(t),n.set(r,t.length),n.set(i,n.length-2)}function q(e){return`"${e.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}let s=flattenAndStringify(t);for(let e in s){let t=s[e];push(`--${o}`),Object.prototype.hasOwnProperty.call(t,"data")?(push(`Content-Disposition: form-data; name=${q(e)}; filename=${q(t.name||"blob")}`),push(`Content-Type: ${t.type||"application/octet-stream"}`),push(""),push(t.data)):(push(`Content-Disposition: form-data; name=${q(e)}`),push(""),push(t))}return push(`--${o}--`),n};function multipartRequestDataProcessor(e,t,r,o){if(t=t||{},"POST"!==e)return o(null,stringifyRequestData(t));this._stripe._platformFunctions.tryBufferData(t).then(t=>{let a=multipartDataGenerator(e,t,r);return o(null,a)}).catch(e=>o(e,null))}let rn=StripeResource.method,ri=StripeResource.extend({create:rn({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:rn({method:"GET",fullPath:"/v1/files/{file}"}),list:rn({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:multipartRequestDataProcessor}),rs=StripeResource.method,rl=StripeResource.extend({create:rs({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:rs({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:rs({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:rs({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:rs({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})}),ru=StripeResource.method,rd=StripeResource.extend({create:ru({method:"POST",fullPath:"/v1/invoices"}),retrieve:ru({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:ru({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:ru({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:ru({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),finalizeInvoice:ru({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:ru({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),listUpcomingLines:ru({method:"GET",fullPath:"/v1/invoices/upcoming/lines",methodType:"list"}),markUncollectible:ru({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:ru({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),retrieveUpcoming:ru({method:"GET",fullPath:"/v1/invoices/upcoming"}),search:ru({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:ru({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLineItem:ru({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:ru({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})}),rc=StripeResource.method,rp=StripeResource.extend({retrieve:rc({method:"GET",fullPath:"/v1/mandates/{mandate}"})}),rh=StripeResource.method,rm="connect.stripe.com",rf=StripeResource.extend({basePath:"/",authorizeUrl(e,t){e=e||{};let r="oauth/authorize";return(t=t||{}).express&&(r=`express/${r}`),e.response_type||(e.response_type="code"),e.client_id||(e.client_id=this._stripe.getClientId()),e.scope||(e.scope="read_write"),`https://${rm}/${r}?${stringifyRequestData(e)}`},token:rh({method:"POST",path:"oauth/token",host:rm}),deauthorize(e,...t){return e.client_id||(e.client_id=this._stripe.getClientId()),rh({method:"POST",path:"oauth/deauthorize",host:rm}).apply(this,[e,...t])}}),ry=StripeResource.method,rv=StripeResource.extend({create:ry({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:ry({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:ry({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:ry({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:ry({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:ry({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:ry({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:ry({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:ry({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),search:ry({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:ry({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})}),rg=StripeResource.method,r_=StripeResource.extend({create:rg({method:"POST",fullPath:"/v1/payment_links"}),retrieve:rg({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:rg({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:rg({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:rg({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})}),rP=StripeResource.method,rT=StripeResource.extend({create:rP({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:rP({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:rP({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:rP({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})}),rS=StripeResource.method,rb=StripeResource.extend({create:rS({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:rS({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:rS({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:rS({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:rS({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})}),rE=StripeResource.method,rR=StripeResource.extend({create:rE({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:rE({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:rE({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:rE({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:rE({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:rE({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})}),rx=StripeResource.method,rO=StripeResource.extend({create:rx({method:"POST",fullPath:"/v1/payouts"}),retrieve:rx({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:rx({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:rx({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:rx({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:rx({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})}),rw=StripeResource.method,rC=StripeResource.extend({create:rw({method:"POST",fullPath:"/v1/plans"}),retrieve:rw({method:"GET",fullPath:"/v1/plans/{plan}"}),update:rw({method:"POST",fullPath:"/v1/plans/{plan}"}),list:rw({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:rw({method:"DELETE",fullPath:"/v1/plans/{plan}"})}),rk=StripeResource.method,rA=StripeResource.extend({create:rk({method:"POST",fullPath:"/v1/prices"}),retrieve:rk({method:"GET",fullPath:"/v1/prices/{price}"}),update:rk({method:"POST",fullPath:"/v1/prices/{price}"}),list:rk({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:rk({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})}),rI=StripeResource.method,rZ=StripeResource.extend({create:rI({method:"POST",fullPath:"/v1/products"}),retrieve:rI({method:"GET",fullPath:"/v1/products/{id}"}),update:rI({method:"POST",fullPath:"/v1/products/{id}"}),list:rI({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:rI({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:rI({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:rI({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:rI({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:rI({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:rI({method:"GET",fullPath:"/v1/products/search",methodType:"search"})}),rN=StripeResource.method,rj=StripeResource.extend({create:rN({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:rN({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:rN({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:rN({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})}),rD=StripeResource.method,rG=StripeResource.extend({create:rD({method:"POST",fullPath:"/v1/quotes"}),retrieve:rD({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:rD({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:rD({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:rD({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:rD({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:rD({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:rD({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:rD({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:rD({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})}),rM=StripeResource.method,rF=StripeResource.extend({create:rM({method:"POST",fullPath:"/v1/refunds"}),retrieve:rM({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:rM({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:rM({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:rM({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})}),rU=StripeResource.method,rL=StripeResource.extend({retrieve:rU({method:"GET",fullPath:"/v1/reviews/{review}"}),list:rU({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:rU({method:"POST",fullPath:"/v1/reviews/{review}/approve"})}),rq=StripeResource.method,r$=StripeResource.extend({list:rq({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})}),rB=StripeResource.method,rH=StripeResource.extend({create:rB({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:rB({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:rB({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:rB({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:rB({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:rB({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:rB({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})}),rz=StripeResource.method,rV=StripeResource.extend({create:rz({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:rz({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:rz({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:rz({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})}),rW=StripeResource.method,rK=StripeResource.extend({create:rW({method:"POST",fullPath:"/v1/sources"}),retrieve:rW({method:"GET",fullPath:"/v1/sources/{source}"}),update:rW({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:rW({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:rW({method:"POST",fullPath:"/v1/sources/{source}/verify"})}),rJ=StripeResource.method,rQ=StripeResource.extend({create:rJ({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:rJ({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:rJ({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:rJ({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:rJ({method:"DELETE",fullPath:"/v1/subscription_items/{item}"}),createUsageRecord:rJ({method:"POST",fullPath:"/v1/subscription_items/{subscription_item}/usage_records"}),listUsageRecordSummaries:rJ({method:"GET",fullPath:"/v1/subscription_items/{subscription_item}/usage_record_summaries",methodType:"list"})}),rY=StripeResource.method,rX=StripeResource.extend({create:rY({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:rY({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:rY({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:rY({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:rY({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:rY({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})}),r1=StripeResource.method,r0=StripeResource.extend({create:r1({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:r1({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:r1({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:r1({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:r1({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:r1({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),resume:r1({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:r1({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})}),r2=StripeResource.method,r4=StripeResource.extend({retrieve:r2({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:r2({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})}),r3=StripeResource.method,r6=StripeResource.extend({create:r3({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:r3({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:r3({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:r3({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})}),r8=StripeResource.method,r9=StripeResource.extend({create:r8({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:r8({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:r8({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:r8({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})}),r5=StripeResource.method,r7=StripeResource.extend({create:r5({method:"POST",fullPath:"/v1/tokens"}),retrieve:r5({method:"GET",fullPath:"/v1/tokens/{token}"})}),oe=StripeResource.method,ot=StripeResource.extend({create:oe({method:"POST",fullPath:"/v1/topups"}),retrieve:oe({method:"GET",fullPath:"/v1/topups/{topup}"}),update:oe({method:"POST",fullPath:"/v1/topups/{topup}"}),list:oe({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:oe({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})}),or=StripeResource.method,oo=StripeResource.extend({create:or({method:"POST",fullPath:"/v1/transfers"}),retrieve:or({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:or({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:or({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:or({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:or({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:or({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:or({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})}),oa=StripeResource.method,on=StripeResource.extend({create:oa({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:oa({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:oa({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:oa({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:oa({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})}),oi=resourceNamespace("apps",{Secrets:e8}),os=resourceNamespace("billing",{MeterEventAdjustments:ep,MeterEvents:em,Meters:ey}),ol=resourceNamespace("billingPortal",{Configurations:G,Sessions:e5}),ou=resourceNamespace("checkout",{Sessions:te}),od=resourceNamespace("climate",{Orders:eg,Products:eN,Suppliers:ti}),oc=resourceNamespace("entitlements",{ActiveEntitlements:b,Features:er}),op=resourceNamespace("financialConnections",{Accounts:T,Sessions:tr,Transactions:ty}),oh=resourceNamespace("forwarding",{Requests:e2}),om=resourceNamespace("identity",{VerificationReports:tw,VerificationSessions:tk}),of=resourceNamespace("issuing",{Authorizations:O,Cardholders:A,Cards:j,Disputes:Y,PersonalizationDesigns:ek,PhysicalBundles:eI,Tokens:td,Transactions:tg}),oy=resourceNamespace("radar",{EarlyFraudWarnings:ee,ValueListItems:tE,ValueLists:tx}),ov=resourceNamespace("reporting",{ReportRuns:eY,ReportTypes:e1}),og=resourceNamespace("sigma",{ScheduledQueryRuns:e3}),o_=resourceNamespace("tax",{Calculations:C,Registrations:eJ,Settings:ta,Transactions:tP}),oP=resourceNamespace("terminal",{Configurations:F,ConnectionTokens:B,Locations:ed,Readers:eM}),oT=resourceNamespace("testHelpers",{ConfirmationTokens:L,Customers:W,Refunds:eW,TestClocks:tl,Issuing:resourceNamespace("issuing",{Authorizations:R,Cards:Z,PersonalizationDesigns:ew,Transactions:tm}),Terminal:resourceNamespace("terminal",{Readers:eD}),Treasury:resourceNamespace("treasury",{InboundTransfers:ei,OutboundPayments:eP,OutboundTransfers:eE,ReceivedCredits:eU,ReceivedDebits:eB})}),oS=resourceNamespace("treasury",{CreditReversals:z,DebitReversals:J,FinancialAccounts:ea,InboundTransfers:el,OutboundPayments:eS,OutboundTransfers:ex,ReceivedCredits:eq,ReceivedDebits:ez,TransactionEntries:tp,Transactions:tS});let RequestSender=class RequestSender{constructor(e,t){this._stripe=e,this._maxBufferedRequestMetric=t}_addHeadersDirectlyToObject(e,t){e.requestId=t["request-id"],e.stripeAccount=e.stripeAccount||t["stripe-account"],e.apiVersion=e.apiVersion||t["stripe-version"],e.idempotencyKey=e.idempotencyKey||t["idempotency-key"]}_makeResponseEvent(e,t,r){let o=Date.now(),a=o-e.request_start_time;return removeNullish({api_version:r["stripe-version"],account:r["stripe-account"],idempotency_key:r["idempotency-key"],method:e.method,path:e.path,status:t,request_id:this._getRequestId(r),elapsed:a,request_start_time:e.request_start_time,request_end_time:o})}_getRequestId(e){return e["request-id"]}_streamingResponseHandler(e,t,r){return o=>{let a=o.getHeaders(),n=o.toStream(()=>{let r=this._makeResponseEvent(e,o.getStatusCode(),a);this._stripe._emitter.emit("response",r),this._recordRequestMetrics(this._getRequestId(a),r.elapsed,t)});return this._addHeadersDirectlyToObject(n,a),r(null,n)}}_jsonResponseHandler(e,t,r){return o=>{let a=o.getHeaders(),n=this._getRequestId(a),i=o.getStatusCode(),s=this._makeResponseEvent(e,i,a);this._stripe._emitter.emit("response",s),o.toJSON().then(e=>{if(e.error)throw"string"==typeof e.error&&(e.error={type:e.error,message:e.error_description}),e.error.headers=a,e.error.statusCode=i,e.error.requestId=n,401===i?new StripeAuthenticationError(e.error):403===i?new StripePermissionError(e.error):429===i?new StripeRateLimitError(e.error):StripeError.generate(e.error);return e},e=>{throw new StripeAPIError({message:"Invalid JSON received from the Stripe API",exception:e,requestId:a["request-id"]})}).then(e=>{this._recordRequestMetrics(n,s.elapsed,t);let i=o.getRawResponse();this._addHeadersDirectlyToObject(i,a),Object.defineProperty(e,"lastResponse",{enumerable:!1,writable:!1,value:i}),r(null,e)},e=>r(e,null))}}static _generateConnectionErrorMessage(e){return`An error occurred with our connection to Stripe.${e>0?` Request was retried ${e} times.`:""}`}static _shouldRetry(e,t,r,o){return!!(o&&0===t&&HttpClient.CONNECTION_CLOSED_ERROR_CODES.includes(o.code))||!(t>=r)&&(!e||"false"!==e.getHeaders()["stripe-should-retry"]&&!!("true"===e.getHeaders()["stripe-should-retry"]||409===e.getStatusCode()||e.getStatusCode()>=500))}_getSleepTimeInMS(e,t=null){let r=this._stripe.getInitialNetworkRetryDelay(),o=this._stripe.getMaxNetworkRetryDelay(),a=Math.min(r*Math.pow(e-1,2),o);return a*=.5*(1+Math.random()),a=Math.max(r,a),Number.isInteger(t)&&t<=60&&(a=Math.max(a,t)),1e3*a}_getMaxNetworkRetries(e={}){return void 0!==e.maxNetworkRetries&&Number.isInteger(e.maxNetworkRetries)?e.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(e,t){let r=this._getMaxNetworkRetries(t);return"POST"===e&&r>0?`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`:null}_makeHeaders(e,t,r,o,a,n,i){let s={Authorization:e?`Bearer ${e}`:this._stripe.getApiField("auth"),Accept:"application/json","Content-Type":"application/x-www-form-urlencoded","User-Agent":this._getUserAgentString(),"X-Stripe-Client-User-Agent":o,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":r,"Stripe-Account":this._stripe.getApiField("stripeAccount"),"Idempotency-Key":this._defaultIdempotencyKey(a,i)},l="POST"==a||"PUT"==a||"PATCH"==a;return(l||t)&&(l||emitWarning(`${a} method had non-zero contentLength but no payload is expected for this verb`),s["Content-Length"]=t),Object.assign(removeNullish(s),normalizeHeaders(n))}_getUserAgentString(){let e=this._stripe.getConstant("PACKAGE_VERSION"),t=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/v1 NodeBindings/${e} ${t}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){let e=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:e})}}_recordRequestMetrics(e,t,r){if(this._stripe.getTelemetryEnabled()&&e){if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)emitWarning("Request metrics buffer is full, dropping telemetry message.");else{let o={request_id:e,request_duration_ms:t};r&&r.length>0&&(o.usage=r),this._stripe._prevRequestMetrics.push(o)}}}_request(e,t,r,o,a,n={},i=[],s,l=null){let u;let retryRequest=(e,t,r,o,a)=>setTimeout(e,this._getSleepTimeInMS(o,a),t,r,o+1),makeRequest=(o,a,l)=>{let d=n.settings&&n.settings.timeout&&Number.isInteger(n.settings.timeout)&&n.settings.timeout>=0?n.settings.timeout:this._stripe.getApiField("timeout"),c=this._stripe.getApiField("httpClient").makeRequest(t||this._stripe.getApiField("host"),this._stripe.getApiField("port"),r,e,a,u,this._stripe.getApiField("protocol"),d),p=Date.now(),h=removeNullish({api_version:o,account:a["Stripe-Account"],idempotency_key:a["Idempotency-Key"],method:e,path:r,request_start_time:p}),m=l||0,f=this._getMaxNetworkRetries(n.settings||{});this._stripe._emitter.emit("request",h),c.then(e=>RequestSender._shouldRetry(e,m,f)?retryRequest(makeRequest,o,a,m,e.getHeaders()["retry-after"]):n.streaming&&400>e.getStatusCode()?this._streamingResponseHandler(h,i,s)(e):this._jsonResponseHandler(h,i,s)(e)).catch(e=>{if(RequestSender._shouldRetry(null,m,f,e))return retryRequest(makeRequest,o,a,m,null);{let t=e.code&&e.code===HttpClient.TIMEOUT_ERROR_CODE;return s(new StripeConnectionError({message:t?`Request aborted due to timeout being reached (${d}ms)`:RequestSender._generateConnectionErrorMessage(m),detail:e}))}})},prepareAndMakeRequest=(t,r)=>{if(t)return s(t);u=r,this._stripe.getClientUserAgent(t=>{var r,o;let i=this._stripe.getApiField("version"),s=this._makeHeaders(a,u.length,i,t,e,null!==(r=n.headers)&&void 0!==r?r:null,null!==(o=n.settings)&&void 0!==o?o:{});makeRequest(i,s,0)})};l?l(e,o,n.headers,prepareAndMakeRequest):prepareAndMakeRequest(null,stringifyRequestData(o||{}))}};function createWebhooks(e){let t={DEFAULT_TOLERANCE:300,signature:null,constructEvent(e,r,o,a,n,i){try{this.signature.verifyHeader(e,r,o,a||t.DEFAULT_TOLERANCE,n,i)}catch(e){throw e instanceof CryptoProviderOnlySupportsAsyncError&&(e.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),e}let s=e instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(e)):JSON.parse(e);return s},async constructEventAsync(e,r,o,a,n,i){await this.signature.verifyHeaderAsync(e,r,o,a||t.DEFAULT_TOLERANCE,n,i);let s=e instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(e)):JSON.parse(e);return s},generateTestHeaderString:function(e){if(!e)throw new StripeError({message:"Options are required"});e.timestamp=Math.floor(e.timestamp)||Math.floor(Date.now()/1e3),e.scheme=e.scheme||r.EXPECTED_SCHEME,e.cryptoProvider=e.cryptoProvider||getCryptoProvider(),e.signature=e.signature||e.cryptoProvider.computeHMACSignature(e.timestamp+"."+e.payload,e.secret);let t=["t="+e.timestamp,e.scheme+"="+e.signature].join(",");return t}},r={EXPECTED_SCHEME:"v1",verifyHeader(e,t,r,o,a,n){let{decodedHeader:i,decodedPayload:s,details:l,suspectPayloadType:u}=parseEventDetails(e,t,this.EXPECTED_SCHEME),d=/\s/.test(r);a=a||getCryptoProvider();let c=a.computeHMACSignature(makeHMACContent(s,l),r);return validateComputedSignature(s,i,l,c,o,u,d,n),!0},async verifyHeaderAsync(e,t,r,o,a,n){let{decodedHeader:i,decodedPayload:s,details:l,suspectPayloadType:u}=parseEventDetails(e,t,this.EXPECTED_SCHEME),d=/\s/.test(r);a=a||getCryptoProvider();let c=await a.computeHMACSignatureAsync(makeHMACContent(s,l),r);return validateComputedSignature(s,i,l,c,o,u,d,n)}};function makeHMACContent(e,t){return`${t.timestamp}.${e}`}function parseEventDetails(e,t,r){if(!e)throw new StripeSignatureVerificationError(t,e,{message:"No webhook payload was provided."});let o="string"!=typeof e&&!(e instanceof Uint8Array),a=new TextDecoder("utf8"),n=e instanceof Uint8Array?a.decode(e):e;if(Array.isArray(t))throw Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(null==t||""==t)throw new StripeSignatureVerificationError(t,e,{message:"No stripe-signature header value was provided."});let i=t instanceof Uint8Array?a.decode(t):t,s=parseHeader(i,r);if(!s||-1===s.timestamp)throw new StripeSignatureVerificationError(i,n,{message:"Unable to extract timestamp and signatures from header"});if(!s.signatures.length)throw new StripeSignatureVerificationError(i,n,{message:"No signatures found with expected scheme"});return{decodedPayload:n,decodedHeader:i,details:s,suspectPayloadType:o}}function validateComputedSignature(t,r,o,a,n,i,s,l){let u=!!o.signatures.filter(e.secureCompare.bind(e,a)).length,d="\nLearn more about webhook signing and explore webhook integration examples for various frameworks at https://github.com/stripe/stripe-node#webhook-signing",c=s?"\n\nNote: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value":"";if(!u){if(i)throw new StripeSignatureVerificationError(r,t,{message:"Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. \nSignature verification is impossible without access to the original signed material. \n"+d+"\n"+c});throw new StripeSignatureVerificationError(r,t,{message:"No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? \n If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.\n"+d+"\n"+c})}let p=Math.floor(("number"==typeof l?l:Date.now())/1e3)-o.timestamp;if(n>0&&p>n)throw new StripeSignatureVerificationError(r,t,{message:"Timestamp outside the tolerance zone"});return!0}function parseHeader(e,t){return"string"!=typeof e?null:e.split(",").reduce((e,r)=>{let o=r.split("=");return"t"===o[0]&&(e.timestamp=parseInt(o[1],10)),o[0]===t&&e.signatures.push(o[1]),e},{timestamp:-1,signatures:[]})}let o=null;function getCryptoProvider(){return o||(o=e.createDefaultCryptoProvider()),o}return t.signature=r,t}let ob="api.stripe.com",oE="/v1/",oR="2023-10-16",ox=["name","version","url","partner_id"],oO=["apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount"],defaultRequestSenderFactory=e=>new RequestSender(e,StripeResource.MAX_BUFFERED_REQUEST_METRICS);function createStripe(e,t=defaultRequestSenderFactory){function createWebhooksDefault(t=e){return createWebhooks(t)}function Stripe(r,a={}){if(!(this instanceof Stripe))return new Stripe(r,a);let n=this._getPropsFromConfig(a);this._platformFunctions=e,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=Stripe.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);let i=n.httpAgent||null;this._api={auth:null,host:n.host||ob,port:n.port||"443",protocol:n.protocol||"https",basePath:oE,version:n.apiVersion||oR,timeout:validateInteger("timeout",n.timeout,8e4),maxNetworkRetries:validateInteger("maxNetworkRetries",n.maxNetworkRetries,1),agent:i,httpClient:n.httpClient||(i?this._platformFunctions.createNodeHttpClient(i):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:n.stripeAccount||null};let s=n.typescript||!1;s!==Stripe.USER_AGENT.typescript&&(Stripe.USER_AGENT.typescript=s),n.appInfo&&this._setAppInfo(n.appInfo),this._prepResources(),this._setApiKey(r),this.errors=o,this.webhooks=createWebhooksDefault(),this._prevRequestMetrics=[],this._enableTelemetry=!1!==n.telemetry,this._requestSender=t(this),this.StripeResource=Stripe.StripeResource}return Stripe.PACKAGE_VERSION="14.25.0",Stripe.USER_AGENT=Object.assign({bindings_version:Stripe.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},determineProcessUserAgentProperties()),Stripe.StripeResource=StripeResource,Stripe.resources=a,Stripe.HttpClient=HttpClient,Stripe.HttpClientResponse=HttpClientResponse,Stripe.CryptoProvider=CryptoProvider,Stripe.webhooks=Object.assign(createWebhooksDefault,createWebhooks(e)),Stripe.errors=o,Stripe.createNodeHttpClient=e.createNodeHttpClient,Stripe.createFetchHttpClient=e.createFetchHttpClient,Stripe.createNodeCryptoProvider=e.createNodeCryptoProvider,Stripe.createSubtleCryptoProvider=e.createSubtleCryptoProvider,Stripe.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,_setApiKey(e){e&&this._setApiField("auth",`Bearer ${e}`)},_setAppInfo(e){if(e&&"object"!=typeof e)throw Error("AppInfo must be an object.");if(e&&!e.name)throw Error("AppInfo.name is required");e=e||{},this._appInfo=ox.reduce((t,r)=>("string"==typeof e[r]&&((t=t||{})[r]=e[r]),t),void 0)},_setApiField(e,t){this._api[e]=t},getApiField(e){return this._api[e]},setClientId(e){this._clientId=e},getClientId(){return this._clientId},getConstant:e=>{switch(e){case"DEFAULT_HOST":return ob;case"DEFAULT_PORT":return"443";case"DEFAULT_BASE_PATH":return oE;case"DEFAULT_API_VERSION":return oR;case"DEFAULT_TIMEOUT":return 8e4;case"MAX_NETWORK_RETRY_DELAY_SEC":return 2;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return .5}return Stripe[e]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(e,t,r){let o=validateInteger(e,t,r);this._setApiField(e,o)},getMaxNetworkRetryDelay:()=>2,getInitialNetworkRetryDelay:()=>.5,getClientUserAgent(e){return this.getClientUserAgentSeeded(Stripe.USER_AGENT,e)},getClientUserAgentSeeded(e,t){this._platformFunctions.getUname().then(r=>{var o;let a={};for(let t in e)a[t]=encodeURIComponent(null!==(o=e[t])&&void 0!==o?o:"null");a.uname=encodeURIComponent(r||"UNKNOWN");let n=this.getApiField("httpClient");n&&(a.httplib=encodeURIComponent(n.getClientName())),this._appInfo&&(a.application=this._appInfo),t(JSON.stringify(a))})},getAppInfoAsString(){if(!this._appInfo)return"";let e=this._appInfo.name;return this._appInfo.version&&(e+=`/${this._appInfo.version}`),this._appInfo.url&&(e+=` (${this._appInfo.url})`),e},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(let e in a)this[pascalToCamelCase(e)]=new a[e](this)},_getPropsFromConfig(e){if(!e)return{};let t="string"==typeof e,r=e===Object(e)&&!Array.isArray(e);if(!r&&!t)throw Error("Config must either be an object or a string");if(t)return{apiVersion:e};let o=Object.keys(e).filter(e=>!oO.includes(e));if(o.length>0)throw Error(`Config object may only contain the following: ${oO.join(", ")}`);return e}},Stripe}let ow=createStripe(new NodePlatformFunctions),oC=ow},11287:(e,t,r)=>{let o;r.d(t,{z:()=>eu}),function(e){function assertIs(e){}function assertNever(e){throw Error()}function joinValues(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)}e.assertEqual=e=>e,e.assertIs=assertIs,e.assertNever=assertNever,e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),o={};for(let e of r)o[e]=t[e];return e.objectValues(o)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=joinValues,e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(eo||(eo={})),(ea||(ea={})).mergeShapes=(e,t)=>({...e,...t});let a=eo.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=e=>{let t=typeof e;switch(t){case"undefined":return a.undefined;case"string":return a.string;case"number":return isNaN(e)?a.nan:a.number;case"boolean":return a.boolean;case"function":return a.function;case"bigint":return a.bigint;case"symbol":return a.symbol;case"object":if(Array.isArray(e))return a.array;if(null===e)return a.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return a.promise;if("undefined"!=typeof Map&&e instanceof Map)return a.map;if("undefined"!=typeof Set&&e instanceof Set)return a.set;if("undefined"!=typeof Date&&e instanceof Date)return a.date;return a.object;default:return a.unknown}},n=eo.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);let ZodError=class ZodError extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(e){return e.message},r={_errors:[]},processError=e=>{for(let o of e.issues)if("invalid_union"===o.code)o.unionErrors.map(processError);else if("invalid_return_type"===o.code)processError(o.returnTypeError);else if("invalid_arguments"===o.code)processError(o.argumentsError);else if(0===o.path.length)r._errors.push(t(o));else{let e=r,a=0;for(;a<o.path.length;){let r=o.path[a],n=a===o.path.length-1;n?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(o))):e[r]=e[r]||{_errors:[]},e=e[r],a++}}};return processError(this),r}static assert(e){if(!(e instanceof ZodError))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,eo.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let o of this.issues)o.path.length>0?(t[o.path[0]]=t[o.path[0]]||[],t[o.path[0]].push(e(o))):r.push(e(o));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}};ZodError.create=e=>{let t=new ZodError(e);return t};let errorMap=(e,t)=>{let r;switch(e.code){case n.invalid_type:r=e.received===a.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case n.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,eo.jsonStringifyReplacer)}`;break;case n.unrecognized_keys:r=`Unrecognized key(s) in object: ${eo.joinValues(e.keys,", ")}`;break;case n.invalid_union:r="Invalid input";break;case n.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${eo.joinValues(e.options)}`;break;case n.invalid_enum_value:r=`Invalid enum value. Expected ${eo.joinValues(e.options)}, received '${e.received}'`;break;case n.invalid_arguments:r="Invalid function arguments";break;case n.invalid_return_type:r="Invalid function return type";break;case n.invalid_date:r="Invalid date";break;case n.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:eo.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case n.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case n.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case n.custom:r="Invalid input";break;case n.invalid_intersection_types:r="Intersection results could not be merged";break;case n.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case n.not_finite:r="Number must be finite";break;default:r=t.defaultError,eo.assertNever(e)}return{message:r}},i=errorMap;function setErrorMap(e){i=e}function getErrorMap(){return i}let makeIssue=e=>{let{data:t,path:r,errorMaps:o,issueData:a}=e,n=[...r,...a.path||[]],i={...a,path:n};if(void 0!==a.message)return{...a,path:n,message:a.message};let s="",l=o.filter(e=>!!e).slice().reverse();for(let e of l)s=e(i,{data:t,defaultError:s}).message;return{...a,path:n,message:s}};function addIssueToContext(e,t){let r=getErrorMap(),o=makeIssue({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===errorMap?void 0:errorMap].filter(e=>!!e)});e.common.issues.push(o)}let ParseStatus=class ParseStatus{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let o of t){if("aborted"===o.status)return s;"dirty"===o.status&&e.dirty(),r.push(o.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,o=await e.value;r.push({key:t,value:o})}return ParseStatus.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let o of t){let{key:t,value:a}=o;if("aborted"===t.status||"aborted"===a.status)return s;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||o.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}};let s=Object.freeze({status:"aborted"}),DIRTY=e=>({status:"dirty",value:e}),OK=e=>({status:"valid",value:e}),isAborted=e=>"aborted"===e.status,isDirty=e=>"dirty"===e.status,isValid=e=>"valid"===e.status,isAsync=e=>"undefined"!=typeof Promise&&e instanceof Promise;function __classPrivateFieldGet(e,t,r,o){if("a"===r&&!o)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?o:"a"===r?o.call(e):o?o.value:t.get(e)}function __classPrivateFieldSet(e,t,r,o,a){if("m"===o)throw TypeError("Private method is not writable");if("a"===o&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?a.call(e,r):a?a.value=r:t.set(e,r),r}"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(en||(en={}));let ParseInputLazyPath=class ParseInputLazyPath{constructor(e,t,r,o){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};let handleResult=(e,t)=>{if(isValid(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new ZodError(e.common.issues);return this._error=t,this._error}}};function processCreateParams(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:o,description:a}=e;if(t&&(r||o))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{var n,i;let{message:s}=e;return"invalid_enum_value"===t.code?{message:null!=s?s:a.defaultError}:void 0===a.data?{message:null!==(n=null!=s?s:o)&&void 0!==n?n:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!==(i=null!=s?s:r)&&void 0!==i?i:a.defaultError}},description:a}}let ZodType=class ZodType{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return getParsedType(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:getParsedType(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:getParsedType(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(isAsync(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let o={common:{issues:[],async:null!==(r=null==t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:getParsedType(e)},a=this._parseSync({data:e,path:o.path,parent:o});return handleResult(o,a)}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:getParsedType(e)},o=this._parse({data:e,path:r.path,parent:r}),a=await (isAsync(o)?o:Promise.resolve(o));return handleResult(r,a)}refine(e,t){let getIssueProperties=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,r)=>{let o=e(t),setError=()=>r.addIssue({code:n.custom,...getIssueProperties(t)});return"undefined"!=typeof Promise&&o instanceof Promise?o.then(e=>!!e||(setError(),!1)):!!o||(setError(),!1)})}refinement(e,t){return this._refinement((r,o)=>!!e(r)||(o.addIssue("function"==typeof t?t(r,o):t),!1))}_refinement(e){return new ZodEffects({schema:this,typeName:el.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(e){return ZodUnion.create([this,e],this._def)}and(e){return ZodIntersection.create(this,e,this._def)}transform(e){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:el.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:el.ZodDefault})}brand(){return new ZodBranded({typeName:el.ZodBranded,type:this,...processCreateParams(this._def)})}catch(e){return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:el.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return ZodPipeline.create(this,e)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};let l=/^c[^\s-]{8,}$/i,u=/^[0-9a-z]+$/,d=/^[0-9A-HJKMNP-TV-Z]{26}$/,c=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,p=/^[a-z0-9_-]{21}$/i,h=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,m=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,f=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,y=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,v=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,g="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_=RegExp(`^${g}$`);function timeRegexSource(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function timeRegex(e){return RegExp(`^${timeRegexSource(e)}$`)}function datetimeRegex(e){let t=`${g}T${timeRegexSource(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function isValidIP(e,t){return!!(("v4"===t||!t)&&f.test(e)||("v6"===t||!t)&&y.test(e))}let ZodString=class ZodString extends ZodType{_parse(e){let t;this._def.coerce&&(e.data=String(e.data));let r=this._getType(e);if(r!==a.string){let t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:n.invalid_type,expected:a.string,received:t.parsedType}),s}let i=new ParseStatus;for(let r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(addIssueToContext(t=this._getOrReturnCtx(e,t),{code:n.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),i.dirty());else if("max"===r.kind)e.data.length>r.value&&(addIssueToContext(t=this._getOrReturnCtx(e,t),{code:n.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),i.dirty());else if("length"===r.kind){let o=e.data.length>r.value,a=e.data.length<r.value;(o||a)&&(t=this._getOrReturnCtx(e,t),o?addIssueToContext(t,{code:n.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):a&&addIssueToContext(t,{code:n.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),i.dirty())}else if("email"===r.kind)m.test(e.data)||(addIssueToContext(t=this._getOrReturnCtx(e,t),{validation:"email",code:n.invalid_string,message:r.message}),i.dirty());else if("emoji"===r.kind)o||(o=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),o.test(e.data)||(addIssueToContext(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:n.invalid_string,message:r.message}),i.dirty());else if("uuid"===r.kind)c.test(e.data)||(addIssueToContext(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:n.invalid_string,message:r.message}),i.dirty());else if("nanoid"===r.kind)p.test(e.data)||(addIssueToContext(t=this._getOrReturnCtx(e,t),{validation:"nanoid",code:n.invalid_string,message:r.message}),i.dirty());else if("cuid"===r.kind)l.test(e.data)||(addIssueToContext(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:n.invalid_string,message:r.message}),i.dirty());else if("cuid2"===r.kind)u.test(e.data)||(addIssueToContext(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:n.invalid_string,message:r.message}),i.dirty());else if("ulid"===r.kind)d.test(e.data)||(addIssueToContext(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:n.invalid_string,message:r.message}),i.dirty());else if("url"===r.kind)try{new URL(e.data)}catch(o){addIssueToContext(t=this._getOrReturnCtx(e,t),{validation:"url",code:n.invalid_string,message:r.message}),i.dirty()}else if("regex"===r.kind){r.regex.lastIndex=0;let o=r.regex.test(e.data);o||(addIssueToContext(t=this._getOrReturnCtx(e,t),{validation:"regex",code:n.invalid_string,message:r.message}),i.dirty())}else if("trim"===r.kind)e.data=e.data.trim();else if("includes"===r.kind)e.data.includes(r.value,r.position)||(addIssueToContext(t=this._getOrReturnCtx(e,t),{code:n.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),i.dirty());else if("toLowerCase"===r.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===r.kind)e.data=e.data.toUpperCase();else if("startsWith"===r.kind)e.data.startsWith(r.value)||(addIssueToContext(t=this._getOrReturnCtx(e,t),{code:n.invalid_string,validation:{startsWith:r.value},message:r.message}),i.dirty());else if("endsWith"===r.kind)e.data.endsWith(r.value)||(addIssueToContext(t=this._getOrReturnCtx(e,t),{code:n.invalid_string,validation:{endsWith:r.value},message:r.message}),i.dirty());else if("datetime"===r.kind){let o=datetimeRegex(r);o.test(e.data)||(addIssueToContext(t=this._getOrReturnCtx(e,t),{code:n.invalid_string,validation:"datetime",message:r.message}),i.dirty())}else if("date"===r.kind)_.test(e.data)||(addIssueToContext(t=this._getOrReturnCtx(e,t),{code:n.invalid_string,validation:"date",message:r.message}),i.dirty());else if("time"===r.kind){let o=timeRegex(r);o.test(e.data)||(addIssueToContext(t=this._getOrReturnCtx(e,t),{code:n.invalid_string,validation:"time",message:r.message}),i.dirty())}else"duration"===r.kind?h.test(e.data)||(addIssueToContext(t=this._getOrReturnCtx(e,t),{validation:"duration",code:n.invalid_string,message:r.message}),i.dirty()):"ip"===r.kind?isValidIP(e.data,r.version)||(addIssueToContext(t=this._getOrReturnCtx(e,t),{validation:"ip",code:n.invalid_string,message:r.message}),i.dirty()):"base64"===r.kind?v.test(e.data)||(addIssueToContext(t=this._getOrReturnCtx(e,t),{validation:"base64",code:n.invalid_string,message:r.message}),i.dirty()):eo.assertNever(r);return{status:i.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:n.invalid_string,...en.errToObj(r)})}_addCheck(e){return new ZodString({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...en.errToObj(e)})}url(e){return this._addCheck({kind:"url",...en.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...en.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...en.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...en.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...en.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...en.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...en.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...en.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...en.errToObj(e)})}datetime(e){var t,r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null==e?void 0:e.local)&&void 0!==r&&r,...en.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...en.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...en.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...en.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...en.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...en.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...en.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...en.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...en.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...en.errToObj(t)})}nonempty(e){return this.min(1,en.errToObj(e))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}};function floatSafeRemainder(e,t){let r=(e.toString().split(".")[1]||"").length,o=(t.toString().split(".")[1]||"").length,a=r>o?r:o,n=parseInt(e.toFixed(a).replace(".","")),i=parseInt(t.toFixed(a).replace(".",""));return n%i/Math.pow(10,a)}ZodString.create=e=>{var t;return new ZodString({checks:[],typeName:el.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...processCreateParams(e)})};let ZodNumber=class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;this._def.coerce&&(e.data=Number(e.data));let r=this._getType(e);if(r!==a.number){let t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:n.invalid_type,expected:a.number,received:t.parsedType}),s}let o=new ParseStatus;for(let r of this._def.checks)if("int"===r.kind)eo.isInteger(e.data)||(addIssueToContext(t=this._getOrReturnCtx(e,t),{code:n.invalid_type,expected:"integer",received:"float",message:r.message}),o.dirty());else if("min"===r.kind){let a=r.inclusive?e.data<r.value:e.data<=r.value;a&&(addIssueToContext(t=this._getOrReturnCtx(e,t),{code:n.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),o.dirty())}else if("max"===r.kind){let a=r.inclusive?e.data>r.value:e.data>=r.value;a&&(addIssueToContext(t=this._getOrReturnCtx(e,t),{code:n.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),o.dirty())}else"multipleOf"===r.kind?0!==floatSafeRemainder(e.data,r.value)&&(addIssueToContext(t=this._getOrReturnCtx(e,t),{code:n.not_multiple_of,multipleOf:r.value,message:r.message}),o.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(addIssueToContext(t=this._getOrReturnCtx(e,t),{code:n.not_finite,message:r.message}),o.dirty()):eo.assertNever(r);return{status:o.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,en.toString(t))}gt(e,t){return this.setLimit("min",e,!1,en.toString(t))}lte(e,t){return this.setLimit("max",e,!0,en.toString(t))}lt(e,t){return this.setLimit("max",e,!1,en.toString(t))}setLimit(e,t,r,o){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:en.toString(o)}]})}_addCheck(e){return new ZodNumber({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:en.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:en.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:en.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:en.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:en.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:en.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:en.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:en.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:en.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&eo.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}};ZodNumber.create=e=>new ZodNumber({checks:[],typeName:el.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...processCreateParams(e)});let ZodBigInt=class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;this._def.coerce&&(e.data=BigInt(e.data));let r=this._getType(e);if(r!==a.bigint){let t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:n.invalid_type,expected:a.bigint,received:t.parsedType}),s}let o=new ParseStatus;for(let r of this._def.checks)if("min"===r.kind){let a=r.inclusive?e.data<r.value:e.data<=r.value;a&&(addIssueToContext(t=this._getOrReturnCtx(e,t),{code:n.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),o.dirty())}else if("max"===r.kind){let a=r.inclusive?e.data>r.value:e.data>=r.value;a&&(addIssueToContext(t=this._getOrReturnCtx(e,t),{code:n.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),o.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(addIssueToContext(t=this._getOrReturnCtx(e,t),{code:n.not_multiple_of,multipleOf:r.value,message:r.message}),o.dirty()):eo.assertNever(r);return{status:o.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,en.toString(t))}gt(e,t){return this.setLimit("min",e,!1,en.toString(t))}lte(e,t){return this.setLimit("max",e,!0,en.toString(t))}lt(e,t){return this.setLimit("max",e,!1,en.toString(t))}setLimit(e,t,r,o){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:en.toString(o)}]})}_addCheck(e){return new ZodBigInt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:en.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:en.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:en.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:en.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:en.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}};ZodBigInt.create=e=>{var t;return new ZodBigInt({checks:[],typeName:el.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...processCreateParams(e)})};let ZodBoolean=class ZodBoolean extends ZodType{_parse(e){this._def.coerce&&(e.data=!!e.data);let t=this._getType(e);if(t!==a.boolean){let t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:n.invalid_type,expected:a.boolean,received:t.parsedType}),s}return OK(e.data)}};ZodBoolean.create=e=>new ZodBoolean({typeName:el.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...processCreateParams(e)});let ZodDate=class ZodDate extends ZodType{_parse(e){let t;this._def.coerce&&(e.data=new Date(e.data));let r=this._getType(e);if(r!==a.date){let t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:n.invalid_type,expected:a.date,received:t.parsedType}),s}if(isNaN(e.data.getTime())){let t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:n.invalid_date}),s}let o=new ParseStatus;for(let r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(addIssueToContext(t=this._getOrReturnCtx(e,t),{code:n.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),o.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(addIssueToContext(t=this._getOrReturnCtx(e,t),{code:n.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),o.dirty()):eo.assertNever(r);return{status:o.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ZodDate({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:en.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:en.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}};ZodDate.create=e=>new ZodDate({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:el.ZodDate,...processCreateParams(e)});let ZodSymbol=class ZodSymbol extends ZodType{_parse(e){let t=this._getType(e);if(t!==a.symbol){let t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:n.invalid_type,expected:a.symbol,received:t.parsedType}),s}return OK(e.data)}};ZodSymbol.create=e=>new ZodSymbol({typeName:el.ZodSymbol,...processCreateParams(e)});let ZodUndefined=class ZodUndefined extends ZodType{_parse(e){let t=this._getType(e);if(t!==a.undefined){let t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:n.invalid_type,expected:a.undefined,received:t.parsedType}),s}return OK(e.data)}};ZodUndefined.create=e=>new ZodUndefined({typeName:el.ZodUndefined,...processCreateParams(e)});let ZodNull=class ZodNull extends ZodType{_parse(e){let t=this._getType(e);if(t!==a.null){let t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:n.invalid_type,expected:a.null,received:t.parsedType}),s}return OK(e.data)}};ZodNull.create=e=>new ZodNull({typeName:el.ZodNull,...processCreateParams(e)});let ZodAny=class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(e){return OK(e.data)}};ZodAny.create=e=>new ZodAny({typeName:el.ZodAny,...processCreateParams(e)});let ZodUnknown=class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(e){return OK(e.data)}};ZodUnknown.create=e=>new ZodUnknown({typeName:el.ZodUnknown,...processCreateParams(e)});let ZodNever=class ZodNever extends ZodType{_parse(e){let t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:n.invalid_type,expected:a.never,received:t.parsedType}),s}};ZodNever.create=e=>new ZodNever({typeName:el.ZodNever,...processCreateParams(e)});let ZodVoid=class ZodVoid extends ZodType{_parse(e){let t=this._getType(e);if(t!==a.undefined){let t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:n.invalid_type,expected:a.void,received:t.parsedType}),s}return OK(e.data)}};ZodVoid.create=e=>new ZodVoid({typeName:el.ZodVoid,...processCreateParams(e)});let ZodArray=class ZodArray extends ZodType{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),o=this._def;if(t.parsedType!==a.array)return addIssueToContext(t,{code:n.invalid_type,expected:a.array,received:t.parsedType}),s;if(null!==o.exactLength){let e=t.data.length>o.exactLength.value,a=t.data.length<o.exactLength.value;(e||a)&&(addIssueToContext(t,{code:e?n.too_big:n.too_small,minimum:a?o.exactLength.value:void 0,maximum:e?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(null!==o.minLength&&t.data.length<o.minLength.value&&(addIssueToContext(t,{code:n.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),null!==o.maxLength&&t.data.length>o.maxLength.value&&(addIssueToContext(t,{code:n.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>o.type._parseAsync(new ParseInputLazyPath(t,e,t.path,r)))).then(e=>ParseStatus.mergeArray(r,e));let i=[...t.data].map((e,r)=>o.type._parseSync(new ParseInputLazyPath(t,e,t.path,r)));return ParseStatus.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new ZodArray({...this._def,minLength:{value:e,message:en.toString(t)}})}max(e,t){return new ZodArray({...this._def,maxLength:{value:e,message:en.toString(t)}})}length(e,t){return new ZodArray({...this._def,exactLength:{value:e,message:en.toString(t)}})}nonempty(e){return this.min(1,e)}};function deepPartialify(e){if(e instanceof ZodObject){let t={};for(let r in e.shape){let o=e.shape[r];t[r]=ZodOptional.create(deepPartialify(o))}return new ZodObject({...e._def,shape:()=>t})}return e instanceof ZodArray?new ZodArray({...e._def,type:deepPartialify(e.element)}):e instanceof ZodOptional?ZodOptional.create(deepPartialify(e.unwrap())):e instanceof ZodNullable?ZodNullable.create(deepPartialify(e.unwrap())):e instanceof ZodTuple?ZodTuple.create(e.items.map(e=>deepPartialify(e))):e}ZodArray.create=(e,t)=>new ZodArray({type:e,minLength:null,maxLength:null,exactLength:null,typeName:el.ZodArray,...processCreateParams(t)});let ZodObject=class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=eo.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){let t=this._getType(e);if(t!==a.object){let t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:n.invalid_type,expected:a.object,received:t.parsedType}),s}let{status:r,ctx:o}=this._processInputParams(e),{shape:i,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof ZodNever&&"strip"===this._def.unknownKeys))for(let e in o.data)l.includes(e)||u.push(e);let d=[];for(let e of l){let t=i[e],r=o.data[e];d.push({key:{status:"valid",value:e},value:t._parse(new ParseInputLazyPath(o,r,o.path,e)),alwaysSet:e in o.data})}if(this._def.catchall instanceof ZodNever){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of u)d.push({key:{status:"valid",value:e},value:{status:"valid",value:o.data[e]}});else if("strict"===e)u.length>0&&(addIssueToContext(o,{code:n.unrecognized_keys,keys:u}),r.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of u){let r=o.data[t];d.push({key:{status:"valid",value:t},value:e._parse(new ParseInputLazyPath(o,r,o.path,t)),alwaysSet:t in o.data})}}return o.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of d){let r=await t.key,o=await t.value;e.push({key:r,value:o,alwaysSet:t.alwaysSet})}return e}).then(e=>ParseStatus.mergeObjectSync(r,e)):ParseStatus.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return en.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var o,a,n,i;let s=null!==(n=null===(a=(o=this._def).errorMap)||void 0===a?void 0:a.call(o,t,r).message)&&void 0!==n?n:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(i=en.errToObj(e).message)&&void 0!==i?i:s}:{message:s}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(e){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){let t=new ZodObject({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:el.ZodObject});return t}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ZodObject({...this._def,catchall:e})}pick(e){let t={};return eo.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new ZodObject({...this._def,shape:()=>t})}omit(e){let t={};return eo.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new ZodObject({...this._def,shape:()=>t})}deepPartial(){return deepPartialify(this)}partial(e){let t={};return eo.objectKeys(this.shape).forEach(r=>{let o=this.shape[r];e&&!e[r]?t[r]=o:t[r]=o.optional()}),new ZodObject({...this._def,shape:()=>t})}required(e){let t={};return eo.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r],o=e;for(;o instanceof ZodOptional;)o=o._def.innerType;t[r]=o}}),new ZodObject({...this._def,shape:()=>t})}keyof(){return createZodEnum(eo.objectKeys(this.shape))}};ZodObject.create=(e,t)=>new ZodObject({shape:()=>e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:el.ZodObject,...processCreateParams(t)}),ZodObject.strictCreate=(e,t)=>new ZodObject({shape:()=>e,unknownKeys:"strict",catchall:ZodNever.create(),typeName:el.ZodObject,...processCreateParams(t)}),ZodObject.lazycreate=(e,t)=>new ZodObject({shape:e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:el.ZodObject,...processCreateParams(t)});let ZodUnion=class ZodUnion extends ZodType{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function handleResults(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new ZodError(e.ctx.common.issues));return addIssueToContext(t,{code:n.invalid_union,unionErrors:r}),s}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(handleResults);{let e;let o=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},n=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:r}),r.common.issues.length&&o.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=o.map(e=>new ZodError(e));return addIssueToContext(t,{code:n.invalid_union,unionErrors:a}),s}}get options(){return this._def.options}};ZodUnion.create=(e,t)=>new ZodUnion({options:e,typeName:el.ZodUnion,...processCreateParams(t)});let getDiscriminator=e=>{if(e instanceof ZodLazy)return getDiscriminator(e.schema);if(e instanceof ZodEffects)return getDiscriminator(e.innerType());if(e instanceof ZodLiteral)return[e.value];if(e instanceof ZodEnum)return e.options;if(e instanceof ZodNativeEnum)return eo.objectValues(e.enum);if(e instanceof ZodDefault)return getDiscriminator(e._def.innerType);if(e instanceof ZodUndefined)return[void 0];else if(e instanceof ZodNull)return[null];else if(e instanceof ZodOptional)return[void 0,...getDiscriminator(e.unwrap())];else if(e instanceof ZodNullable)return[null,...getDiscriminator(e.unwrap())];else if(e instanceof ZodBranded)return getDiscriminator(e.unwrap());else if(e instanceof ZodReadonly)return getDiscriminator(e.unwrap());else if(e instanceof ZodCatch)return getDiscriminator(e._def.innerType);else return[]};let ZodDiscriminatedUnion=class ZodDiscriminatedUnion extends ZodType{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==a.object)return addIssueToContext(t,{code:n.invalid_type,expected:a.object,received:t.parsedType}),s;let r=this.discriminator,o=t.data[r],i=this.optionsMap.get(o);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(addIssueToContext(t,{code:n.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),s)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let o=new Map;for(let r of t){let t=getDiscriminator(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(o.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);o.set(a,r)}}return new ZodDiscriminatedUnion({typeName:el.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:o,...processCreateParams(r)})}};function mergeValues(e,t){let r=getParsedType(e),o=getParsedType(t);if(e===t)return{valid:!0,data:e};if(r===a.object&&o===a.object){let r=eo.objectKeys(t),o=eo.objectKeys(e).filter(e=>-1!==r.indexOf(e)),a={...e,...t};for(let r of o){let o=mergeValues(e[r],t[r]);if(!o.valid)return{valid:!1};a[r]=o.data}return{valid:!0,data:a}}if(r===a.array&&o===a.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let o=0;o<e.length;o++){let a=e[o],n=t[o],i=mergeValues(a,n);if(!i.valid)return{valid:!1};r.push(i.data)}return{valid:!0,data:r}}return r===a.date&&o===a.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}let ZodIntersection=class ZodIntersection extends ZodType{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),handleParsed=(e,o)=>{if(isAborted(e)||isAborted(o))return s;let a=mergeValues(e.value,o.value);return a.valid?((isDirty(e)||isDirty(o))&&t.dirty(),{status:t.value,value:a.data}):(addIssueToContext(r,{code:n.invalid_intersection_types}),s)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>handleParsed(e,t)):handleParsed(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};ZodIntersection.create=(e,t,r)=>new ZodIntersection({left:e,right:t,typeName:el.ZodIntersection,...processCreateParams(r)});let ZodTuple=class ZodTuple extends ZodType{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==a.array)return addIssueToContext(r,{code:n.invalid_type,expected:a.array,received:r.parsedType}),s;if(r.data.length<this._def.items.length)return addIssueToContext(r,{code:n.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s;let o=this._def.rest;!o&&r.data.length>this._def.items.length&&(addIssueToContext(r,{code:n.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let o=this._def.items[t]||this._def.rest;return o?o._parse(new ParseInputLazyPath(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>ParseStatus.mergeArray(t,e)):ParseStatus.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new ZodTuple({...this._def,rest:e})}};ZodTuple.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:e,typeName:el.ZodTuple,rest:null,...processCreateParams(t)})};let ZodRecord=class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==a.object)return addIssueToContext(r,{code:n.invalid_type,expected:a.object,received:r.parsedType}),s;let o=[],i=this._def.keyType,l=this._def.valueType;for(let e in r.data)o.push({key:i._parse(new ParseInputLazyPath(r,e,r.path,e)),value:l._parse(new ParseInputLazyPath(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?ParseStatus.mergeObjectAsync(t,o):ParseStatus.mergeObjectSync(t,o)}get element(){return this._def.valueType}static create(e,t,r){return new ZodRecord(t instanceof ZodType?{keyType:e,valueType:t,typeName:el.ZodRecord,...processCreateParams(r)}:{keyType:ZodString.create(),valueType:e,typeName:el.ZodRecord,...processCreateParams(t)})}};let ZodMap=class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==a.map)return addIssueToContext(r,{code:n.invalid_type,expected:a.map,received:r.parsedType}),s;let o=this._def.keyType,i=this._def.valueType,l=[...r.data.entries()].map(([e,t],a)=>({key:o._parse(new ParseInputLazyPath(r,e,r.path,[a,"key"])),value:i._parse(new ParseInputLazyPath(r,t,r.path,[a,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of l){let o=await r.key,a=await r.value;if("aborted"===o.status||"aborted"===a.status)return s;("dirty"===o.status||"dirty"===a.status)&&t.dirty(),e.set(o.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of l){let o=r.key,a=r.value;if("aborted"===o.status||"aborted"===a.status)return s;("dirty"===o.status||"dirty"===a.status)&&t.dirty(),e.set(o.value,a.value)}return{status:t.value,value:e}}}};ZodMap.create=(e,t,r)=>new ZodMap({valueType:t,keyType:e,typeName:el.ZodMap,...processCreateParams(r)});let ZodSet=class ZodSet extends ZodType{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==a.set)return addIssueToContext(r,{code:n.invalid_type,expected:a.set,received:r.parsedType}),s;let o=this._def;null!==o.minSize&&r.data.size<o.minSize.value&&(addIssueToContext(r,{code:n.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),t.dirty()),null!==o.maxSize&&r.data.size>o.maxSize.value&&(addIssueToContext(r,{code:n.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),t.dirty());let i=this._def.valueType;function finalizeSet(e){let r=new Set;for(let o of e){if("aborted"===o.status)return s;"dirty"===o.status&&t.dirty(),r.add(o.value)}return{status:t.value,value:r}}let l=[...r.data.values()].map((e,t)=>i._parse(new ParseInputLazyPath(r,e,r.path,t)));return r.common.async?Promise.all(l).then(e=>finalizeSet(e)):finalizeSet(l)}min(e,t){return new ZodSet({...this._def,minSize:{value:e,message:en.toString(t)}})}max(e,t){return new ZodSet({...this._def,maxSize:{value:e,message:en.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};ZodSet.create=(e,t)=>new ZodSet({valueType:e,minSize:null,maxSize:null,typeName:el.ZodSet,...processCreateParams(t)});let ZodFunction=class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==a.function)return addIssueToContext(t,{code:n.invalid_type,expected:a.function,received:t.parsedType}),s;function makeArgsIssue(e,r){return makeIssue({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,getErrorMap(),errorMap].filter(e=>!!e),issueData:{code:n.invalid_arguments,argumentsError:r}})}function makeReturnsIssue(e,r){return makeIssue({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,getErrorMap(),errorMap].filter(e=>!!e),issueData:{code:n.invalid_return_type,returnTypeError:r}})}let r={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof ZodPromise){let e=this;return OK(async function(...t){let a=new ZodError([]),n=await e._def.args.parseAsync(t,r).catch(e=>{throw a.addIssue(makeArgsIssue(t,e)),a}),i=await Reflect.apply(o,this,n),s=await e._def.returns._def.type.parseAsync(i,r).catch(e=>{throw a.addIssue(makeReturnsIssue(i,e)),a});return s})}{let e=this;return OK(function(...t){let a=e._def.args.safeParse(t,r);if(!a.success)throw new ZodError([makeArgsIssue(t,a.error)]);let n=Reflect.apply(o,this,a.data),i=e._def.returns.safeParse(n,r);if(!i.success)throw new ZodError([makeReturnsIssue(n,i.error)]);return i.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ZodFunction({...this._def,args:ZodTuple.create(e).rest(ZodUnknown.create())})}returns(e){return new ZodFunction({...this._def,returns:e})}implement(e){let t=this.parse(e);return t}strictImplement(e){let t=this.parse(e);return t}static create(e,t,r){return new ZodFunction({args:e||ZodTuple.create([]).rest(ZodUnknown.create()),returns:t||ZodUnknown.create(),typeName:el.ZodFunction,...processCreateParams(r)})}};let ZodLazy=class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.getter();return r._parse({data:t.data,path:t.path,parent:t})}};ZodLazy.create=(e,t)=>new ZodLazy({getter:e,typeName:el.ZodLazy,...processCreateParams(t)});let ZodLiteral=class ZodLiteral extends ZodType{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return addIssueToContext(t,{received:t.data,code:n.invalid_literal,expected:this._def.value}),s}return{status:"valid",value:e.data}}get value(){return this._def.value}};function createZodEnum(e,t){return new ZodEnum({values:e,typeName:el.ZodEnum,...processCreateParams(t)})}ZodLiteral.create=(e,t)=>new ZodLiteral({value:e,typeName:el.ZodLiteral,...processCreateParams(t)});let ZodEnum=class ZodEnum extends ZodType{constructor(){super(...arguments),ei.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return addIssueToContext(t,{expected:eo.joinValues(r),received:t.parsedType,code:n.invalid_type}),s}if(__classPrivateFieldGet(this,ei,"f")||__classPrivateFieldSet(this,ei,new Set(this._def.values),"f"),!__classPrivateFieldGet(this,ei,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return addIssueToContext(t,{received:t.data,code:n.invalid_enum_value,options:r}),s}return OK(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ZodEnum.create(e,{...this._def,...t})}exclude(e,t=this._def){return ZodEnum.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}};ei=new WeakMap,ZodEnum.create=createZodEnum;let ZodNativeEnum=class ZodNativeEnum extends ZodType{constructor(){super(...arguments),es.set(this,void 0)}_parse(e){let t=eo.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==a.string&&r.parsedType!==a.number){let e=eo.objectValues(t);return addIssueToContext(r,{expected:eo.joinValues(e),received:r.parsedType,code:n.invalid_type}),s}if(__classPrivateFieldGet(this,es,"f")||__classPrivateFieldSet(this,es,new Set(eo.getValidEnumValues(this._def.values)),"f"),!__classPrivateFieldGet(this,es,"f").has(e.data)){let e=eo.objectValues(t);return addIssueToContext(r,{received:r.data,code:n.invalid_enum_value,options:e}),s}return OK(e.data)}get enum(){return this._def.values}};es=new WeakMap,ZodNativeEnum.create=(e,t)=>new ZodNativeEnum({values:e,typeName:el.ZodNativeEnum,...processCreateParams(t)});let ZodPromise=class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==a.promise&&!1===t.common.async)return addIssueToContext(t,{code:n.invalid_type,expected:a.promise,received:t.parsedType}),s;let r=t.parsedType===a.promise?t.data:Promise.resolve(t.data);return OK(r.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}};ZodPromise.create=(e,t)=>new ZodPromise({type:e,typeName:el.ZodPromise,...processCreateParams(t)});let ZodEffects=class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===el.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),o=this._def.effect||null,a={addIssue:e=>{addIssueToContext(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===o.type){let e=o.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return s;let o=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===o.status?s:"dirty"===o.status||"dirty"===t.value?DIRTY(o.value):o});{if("aborted"===t.value)return s;let o=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===o.status?s:"dirty"===o.status||"dirty"===t.value?DIRTY(o.value):o}}if("refinement"===o.type){let executeRefinement=e=>{let t=o.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>"aborted"===e.status?s:("dirty"===e.status&&t.dirty(),executeRefinement(e.value).then(()=>({status:t.value,value:e.value}))));{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?s:("dirty"===e.status&&t.dirty(),executeRefinement(e.value),{status:t.value,value:e.value})}}if("transform"===o.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>isValid(e)?Promise.resolve(o.transform(e.value,a)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!isValid(e))return e;let n=o.transform(e.value,a);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}}eo.assertNever(o)}};ZodEffects.create=(e,t,r)=>new ZodEffects({schema:e,typeName:el.ZodEffects,effect:t,...processCreateParams(r)}),ZodEffects.createWithPreprocess=(e,t,r)=>new ZodEffects({schema:t,effect:{type:"preprocess",transform:e},typeName:el.ZodEffects,...processCreateParams(r)});let ZodOptional=class ZodOptional extends ZodType{_parse(e){let t=this._getType(e);return t===a.undefined?OK(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ZodOptional.create=(e,t)=>new ZodOptional({innerType:e,typeName:el.ZodOptional,...processCreateParams(t)});let ZodNullable=class ZodNullable extends ZodType{_parse(e){let t=this._getType(e);return t===a.null?OK(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ZodNullable.create=(e,t)=>new ZodNullable({innerType:e,typeName:el.ZodNullable,...processCreateParams(t)});let ZodDefault=class ZodDefault extends ZodType{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===a.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};ZodDefault.create=(e,t)=>new ZodDefault({innerType:e,typeName:el.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...processCreateParams(t)});let ZodCatch=class ZodCatch extends ZodType{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},o=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return isAsync(o)?o.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new ZodError(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===o.status?o.value:this._def.catchValue({get error(){return new ZodError(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};ZodCatch.create=(e,t)=>new ZodCatch({innerType:e,typeName:el.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...processCreateParams(t)});let ZodNaN=class ZodNaN extends ZodType{_parse(e){let t=this._getType(e);if(t!==a.nan){let t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:n.invalid_type,expected:a.nan,received:t.parsedType}),s}return{status:"valid",value:e.data}}};ZodNaN.create=e=>new ZodNaN({typeName:el.ZodNaN,...processCreateParams(e)});let P=Symbol("zod_brand");let ZodBranded=class ZodBranded extends ZodType{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}};let ZodPipeline=class ZodPipeline extends ZodType{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async){let handleAsync=async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?s:"dirty"===e.status?(t.dirty(),DIRTY(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})};return handleAsync()}{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?s:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new ZodPipeline({in:e,out:t,typeName:el.ZodPipeline})}};let ZodReadonly=class ZodReadonly extends ZodType{_parse(e){let t=this._def.innerType._parse(e),freeze=e=>(isValid(e)&&(e.value=Object.freeze(e.value)),e);return isAsync(t)?t.then(e=>freeze(e)):freeze(t)}unwrap(){return this._def.innerType}};function custom(e,t={},r){return e?ZodAny.create().superRefine((o,a)=>{var n,i;if(!e(o)){let e="function"==typeof t?t(o):"string"==typeof t?{message:t}:t,s=null===(i=null!==(n=e.fatal)&&void 0!==n?n:r)||void 0===i||i,l="string"==typeof e?{message:e}:e;a.addIssue({code:"custom",...l,fatal:s})}}):ZodAny.create()}ZodReadonly.create=(e,t)=>new ZodReadonly({innerType:e,typeName:el.ZodReadonly,...processCreateParams(t)});let T={object:ZodObject.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(el||(el={}));let S=ZodString.create,b=ZodNumber.create,E=ZodNaN.create,R=ZodBigInt.create,x=ZodBoolean.create,O=ZodDate.create,w=ZodSymbol.create,C=ZodUndefined.create,k=ZodNull.create,A=ZodAny.create,I=ZodUnknown.create,Z=ZodNever.create,N=ZodVoid.create,j=ZodArray.create,D=ZodObject.create,G=ZodObject.strictCreate,M=ZodUnion.create,F=ZodDiscriminatedUnion.create,U=ZodIntersection.create,L=ZodTuple.create,$=ZodRecord.create,B=ZodMap.create,H=ZodSet.create,z=ZodFunction.create,V=ZodLazy.create,W=ZodLiteral.create,K=ZodEnum.create,J=ZodNativeEnum.create,Q=ZodPromise.create,Y=ZodEffects.create,X=ZodOptional.create,ee=ZodNullable.create,et=ZodEffects.createWithPreprocess,er=ZodPipeline.create;var eo,ea,en,ei,es,el,eu=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap:setErrorMap,getErrorMap:getErrorMap,makeIssue:makeIssue,EMPTY_PATH:[],addIssueToContext:addIssueToContext,ParseStatus:ParseStatus,INVALID:s,DIRTY:DIRTY,OK:OK,isAborted:isAborted,isDirty:isDirty,isValid:isValid,isAsync:isAsync,get util(){return eo},get objectUtil(){return ea},ZodParsedType:a,getParsedType:getParsedType,ZodType:ZodType,datetimeRegex:datetimeRegex,ZodString:ZodString,ZodNumber:ZodNumber,ZodBigInt:ZodBigInt,ZodBoolean:ZodBoolean,ZodDate:ZodDate,ZodSymbol:ZodSymbol,ZodUndefined:ZodUndefined,ZodNull:ZodNull,ZodAny:ZodAny,ZodUnknown:ZodUnknown,ZodNever:ZodNever,ZodVoid:ZodVoid,ZodArray:ZodArray,ZodObject:ZodObject,ZodUnion:ZodUnion,ZodDiscriminatedUnion:ZodDiscriminatedUnion,ZodIntersection:ZodIntersection,ZodTuple:ZodTuple,ZodRecord:ZodRecord,ZodMap:ZodMap,ZodSet:ZodSet,ZodFunction:ZodFunction,ZodLazy:ZodLazy,ZodLiteral:ZodLiteral,ZodEnum:ZodEnum,ZodNativeEnum:ZodNativeEnum,ZodPromise:ZodPromise,ZodEffects:ZodEffects,ZodTransformer:ZodEffects,ZodOptional:ZodOptional,ZodNullable:ZodNullable,ZodDefault:ZodDefault,ZodCatch:ZodCatch,ZodNaN:ZodNaN,BRAND:P,ZodBranded:ZodBranded,ZodPipeline:ZodPipeline,ZodReadonly:ZodReadonly,custom:custom,Schema:ZodType,ZodSchema:ZodType,late:T,get ZodFirstPartyTypeKind(){return el},coerce:{string:e=>ZodString.create({...e,coerce:!0}),number:e=>ZodNumber.create({...e,coerce:!0}),boolean:e=>ZodBoolean.create({...e,coerce:!0}),bigint:e=>ZodBigInt.create({...e,coerce:!0}),date:e=>ZodDate.create({...e,coerce:!0})},any:A,array:j,bigint:R,boolean:x,date:O,discriminatedUnion:F,effect:Y,enum:K,function:z,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>custom(t=>t instanceof e,t),intersection:U,lazy:V,literal:W,map:B,nan:E,nativeEnum:J,never:Z,null:k,nullable:ee,number:b,object:D,oboolean:()=>x().optional(),onumber:()=>b().optional(),optional:X,ostring:()=>S().optional(),pipeline:er,preprocess:et,promise:Q,record:$,set:H,strictObject:G,string:S,symbol:w,transformer:Y,tuple:L,undefined:C,union:M,unknown:I,void:N,NEVER:s,ZodIssueCode:n,quotelessJson:e=>{let t=JSON.stringify(e,null,2);return t.replace(/"([^"]+)":/g,"$1:")},ZodError:ZodError})}};