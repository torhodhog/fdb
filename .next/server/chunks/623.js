"use strict";exports.id=623,exports.ids=[623],exports.modules={80623:(e,o,t)=>{t.d(o,{T:()=>getPayloadClient});var l=t(56718),r=t.n(l),s=t(71017),i=t.n(s),n=t(90409),a=t.n(n),c=t(66709);r().config({path:i().resolve(__dirname,"../.env")});let d=c.createTransport({host:"smtp.resend.com",secure:!0,port:465,auth:{user:"resend",pass:process.env.RESEND_API_KEY}}),p=global.payload;p||(p=global.payload={client:null,promise:null});let getPayloadClient=async({initOptions:e}={})=>{if(!process.env.PAYLOAD_SECRET)throw console.error("PAYLOAD_SECRET is missing"),Error("PAYLOAD_SECRET is missing");if(p.client)return console.log("Returning cached Payload client"),p.client;p.promise||(p.promise=a().init({email:{transport:d,fromAddress:"fdb@fotballdraktbutikken.com",fromName:"Fotballdraktbutikken AS"},secret:process.env.PAYLOAD_SECRET,...e||{}}));try{p.client=await p.promise,console.log("Payload client initialized successfully via get-payload.ts")}catch(e){throw p.promise=null,console.error("Failed to initialize Payload client",e),e}return p.client}}};